{"version":3,"file":"static/js/8298.d4059fc3.chunk.js","mappings":"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","sources":["components/shared-components/Flex/index.js","graphql/support.js","layouts/inner-app-layout/index.js","views/app-views/support/form.js","views/app-views/support/index.js","../node_modules/@ant-design/icons-svg/es/asn/PlusCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Flex = props => {\n\tconst { children, className, alignItems, justifyContent, mobileFlex, flexDirection } = props\n\tconst getFlexResponsive = () => mobileFlex ? 'd-flex' : 'd-md-flex'\n\treturn (\n\t\t<div className={`${getFlexResponsive()} ${className} ${flexDirection?('flex-' + flexDirection): ''} ${alignItems?('align-items-' + alignItems):''} ${justifyContent?('justify-content-' + justifyContent):''}` }>\n\t\t\t{children}\n\t\t</div>\n\t)\n}\n\nFlex.propTypes = {\n\tclassName: PropTypes.string,\n\talignItems: PropTypes.string,\n\tflexDirection: PropTypes.string,\n\tjustifyContent: PropTypes.string,\n\tmobileFlex: PropTypes.bool\n}\n\nFlex.defaultProps = {\n\tmobileFlex: true,\n\tflexDirection: 'row',\n\tclassName: ''\n};\n\n\nexport default Flex\n","import { gql } from '@apollo/client'; \n\nexport const ALL_SUPPORTS = gql`\n    query allSupports {\n        allSupports {\n            id\n            title\n            description\n            supportfileSet {\n                id\n                file\n            }\n            supportgroupSet {\n                group {\n                    id\n                }\n            }\n        }\n    }\n`\n\nexport const CREATE_SUPPORT = gql`\n    mutation createSupport ($description: String, $title: String){\n        createSupport (description: $description, title: $title) {\n            support {\n                id\n            }\n        }\n    }\n`;\n\nexport const UPDATE_SUPPORT = gql`\n    mutation updateSupport ($description: String, $id: Int, $title: String){\n        updateSupport (description: $description, id: $id, title: $title) {\n            support {\n                id\n            }\n        }\n    }\n`\n\nexport const DELETE_SUPPORT = gql`\n    mutation deleteSupport ($id: Int){\n        deleteSupport (id: $id) {\n            support {\n                title\n            }\n        }\n    }\n`\n\nexport const CREATE_SUPPORT_FILE = gql`\n    mutation createSupportFile ($support: Int, $file: Upload) {\n        createSupportFile (support: $support, file: $file) {\n            supportFile {\n                id\n            }\n        }\n    }\n`\n\nexport const DELETE_SUPPORT_FILE = gql`\n    mutation deleteSupportFile ($id: Int) {\n        deleteSupportFile (id: $id) {\n            supportFile {\n                file\n            }\n        }\n    }\n`\n\nexport const ATTACH_OR_DETACH_SUPPORT_GROUP = gql`\n    mutation attachOrDetachSupportGroup($group: Int, $support: Int){\n        attachOrDetachSupportGroup (group: $group, support: $support){\n            supportGroup {\n                __typename\n            }\n        }\n    }\n`","import React, { useState } from 'react'\nimport PropTypes from \"prop-types\";\nimport { Grid, Drawer } from \"antd\";\nimport utils from 'utils'\nimport { MenuOutlined } from '@ant-design/icons';\n\nconst { useBreakpoint } = Grid;\n\nconst SideContent = props => {\n\tconst { sideContent, sideContentWidth = 250, border } = props\n\treturn (\n\t\t<div className={`side-content ${border? 'with-border': ''}`} style={{width: `${sideContentWidth}px`}}>\n\t\t\t{sideContent}\n\t\t</div>\n\t)\n}\n\nconst SideContentMobile = props => {\n\tconst { sideContent, visible, onSideContentClose } = props\n\treturn (\n\t\t<Drawer\n\t\t\twidth={320}\n\t\t\tplacement=\"left\"\n\t\t\tclosable={false}\n\t\t\tonClose={onSideContentClose}\n\t\t\tvisible={visible}\n\t\t\tbodyStyle={{paddingLeft: 0, paddingRight: 0}}\n\t\t>\n\t\t\t<div className=\"h-100\">\n\t\t\t\t{sideContent}\n\t\t\t</div>\n\t\t</Drawer>\n\t)\n}\n\nexport const InnerAppLayout = props => {\n\tconst { mainContent, pageHeader, sideContentGutter = true } = props\n\tconst isMobile = !utils.getBreakPoint(useBreakpoint()).includes('lg')\n\tconst [visible, setVisible] = useState(false);\n\n\tconst close = (e) => {\n\t\tsetVisible(false)\n\t} \n\n\tconst openSideContentMobile = () => {\n\t\tsetVisible(true)\n\t}\n\n\treturn (\n\t\t<div className=\"inner-app-layout\">\n\t\t\t{isMobile ? \n\t\t\t\t<SideContentMobile \n\t\t\t\t\tvisible={visible} \n\t\t\t\t\tonSideContentClose={close}\n\t\t\t\t\t{...props}\n\t\t\t\t/> \n\t\t\t\t: \n\t\t\t\t<SideContent {...props} />\n\t\t\t}\n\t\t\t<div className={`main-content ${pageHeader? 'has-page-header' : ''} ${sideContentGutter? 'gutter' : 'no-gutter'}`}>\n\t\t\t\t{isMobile ? \n\t\t\t\t\t<div className={`font-size-lg mb-3 ${!sideContentGutter ? 'pt-3 px-3' : ''}`}>\n\t\t\t\t\t\t<MenuOutlined onClick={() => openSideContentMobile()}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\tnull\n\t\t\t\t}\n\t\t\t\t{mainContent}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nInnerAppLayout.propTypes = {\n\tsideContent: PropTypes.node,\n\tmainContent: PropTypes.node,\n\tpageHeader: PropTypes.bool,\n\tsideContentWidth: PropTypes.number,\n\tborder: PropTypes.bool,\n\tsideContentGutter: PropTypes.bool\n};\n\nexport default InnerAppLayout\n","import React, { useEffect, useState } from 'react';\nimport { Form, message, Input, Spin, Select } from 'antd';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { ATTACH_OR_DETACH_SUPPORT_GROUP, CREATE_SUPPORT, UPDATE_SUPPORT } from 'graphql/support'\nimport IntlMessage from 'components/util-components/IntlMessage';\nimport { ALL_GROUPS } from 'graphql/role';\n\nfunction SupportForm ({ refetch, handleCancel, type, formDatas }) {\n    \n    const [form] = Form.useForm();\n    const { Option } = Select;\n    const { TextArea } = Input;\n\n    const [groups, setGroups] = useState([])\n\n    const [selectedGroups, setSelectedGroups] = useState([])\n\n    const [attachOrDetachSupportGroup] = useMutation(ATTACH_OR_DETACH_SUPPORT_GROUP, {\n        onCompleted: data => {\n            refetch()\n        }\n    })\n\n    const [createSupport, { loading: createLoading }] = useMutation(CREATE_SUPPORT, {\n        onCompleted: data => {\n            handleCancel()\n            message.success('Амжилттай хадгаллаа');\n            selectedGroups.map(item => (\n                attachOrDetachSupportGroup({ variables: { group: item, support: data.createSupport.support.id } })\n            ))\n        }\n    })\n\n    const [updateSupport] = useMutation(UPDATE_SUPPORT, {\n        onCompleted: data => {\n            handleCancel()\n            message.success('Амжилттай хадгаллаа');\n        }\n    })\n    \n    useQuery(ALL_GROUPS, {\n        onCompleted: data => {\n            setGroups(data.allGroups);\n        }\n    })\n\n    useEffect(() => {\n        if (type === \"edit\") {\n            const formData = {\n                description: formDatas.description,\n                title: formDatas.title,\n                group: formDatas.supportgroupSet.map(item => (\n                    item.group.id\n                )),\n            }\n            form.setFieldsValue(formData)\n        } else {\n            form.resetFields()\n        }\n    }, [formDatas, type, form])\n    \n\n    const onFinish = values => {\n        setSelectedGroups(values.group);\n        if (type === \"create\") {\n            createSupport({ variables: values })\n        } else if (type === \"edit\") {\n            values.id = formDatas.id\n            updateSupport({ variables: values })\n        }\n    };\n\n    function onGroupDeselect(value) {\n        if (type === \"edit\") {\n            attachOrDetachSupportGroup({ variables: { group: value, support: formDatas.id } })\n        }\n    }\n\n    return (\n        <Spin spinning={createLoading} tip=\"Ачааллаж байна...\">\n            <Form  \n                id=\"SupportForm\"\n                layout={'vertical'}\n                form={form}\n                name=\"lesson\" \n                onFinish={onFinish}\n            >\n                <Form.Item name=\"title\" label={<IntlMessage id=\"title\" />} rules={[\n                    {\n                        required: true,\n                        message: <IntlMessage id=\"form.required\" />\n                    },\n                ]}>\n                    <Input />\n                </Form.Item>\n                <Form.Item name=\"group\" label={<IntlMessage id=\"group\" />} rules={[\n                    {\n                        required: true,\n                        message: `Хоосон орхих боломжгүй`\n                    }\n                ]}>\n                    <Select\n                        mode=\"multiple\"\n                        onDeselect={e => onGroupDeselect(e)}\n                        onSelect={e => onGroupDeselect(e)}\n                    >\n                        { groups.map((item, index) => (\n                            <Option key={index} value={item.id} >{item.name}</Option>\n                        ))}\n                    </Select>\n                </Form.Item>\n                <Form.Item name=\"description\" label={<IntlMessage id=\"description\" />} rules={[\n                    {\n                        required: true,\n                        message: <IntlMessage id=\"form.required\" />\n                    },\n                ]}>\n                    <TextArea rows={4} />\n                </Form.Item>\n            </Form>\n        </Spin>\n    );\n};\n\nexport default SupportForm","import React, { useState } from 'react';\nimport { Menu, Modal, Button, Typography, Upload, message, Card, Image  } from 'antd';\nimport InnerAppLayout from 'layouts/inner-app-layout';\nimport { CheckPer } from 'hooks/checkPermission';\nimport { PlusCircleOutlined, UploadOutlined, DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport SupportForm from './form';\nimport Flex from 'components/shared-components/Flex';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { ALL_SUPPORTS, CREATE_SUPPORT_FILE, DELETE_SUPPORT } from 'graphql/support';\nimport Loading from 'components/shared-components/Loading';\nimport IntlMessage from 'components/util-components/IntlMessage';\nimport ReactPlayer from 'react-player';\nimport { BASE_SERVER_URL } from 'configs/AppConfig';\nimport { SizeMe } from 'react-sizeme';\nimport { Document, Page } from 'react-pdf';\n\nconst { Title, Paragraph } = Typography;\nconst { confirm } = Modal;\n\nconst SettingsMenu = ({ supports, setSelectedSupport }) => {\n\n\tfunction onClick(params) {\n\t\tsetSelectedSupport(params);\n\t}\n\t\n\treturn (\n\t\t<div className=\"w-100\">\n\t\t\t<Menu\n\t\t\t\tdefaultSelectedKeys={`support-${0}`}\n\t\t\t\tmode=\"inline\"\n\t\t\t>\n\t\t\t\t{ supports.map((elm, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Menu.Item onClick={() => onClick(elm)} key={`support-${index}`}>\n\t\t\t\t\t\t\t<span>{elm.title}</span>\n\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t)\n\t\t\t\t\n\t\t\t\t})}\n\t\t\t</Menu>\n\t\t</div>\n\t)\n}\n\nconst Support = props => {\n\t\n\tconst [isModalOpen, setIsModalOpen] = useState(false);\n\tconst [supports, setSupports] = useState([]);\n\tconst [selectedSupport, setSelectedSupport] = useState()\n    // const [isModalVisible, setIsModalVisible] = useState(false);\n    const [pageNumber, setPageNumber] = useState(1);\n    const [numPages, setNumPages] = useState(null);\n\n\tconst [formType, setFormType] = useState();\n\n\tconst permissions = {\n\t\tcreateSupport: CheckPer('add_support'),\n\t\teditSupport: CheckPer('change_support'),\n\t\tdeleteSupport: CheckPer('delete_support'),\n\t\tcreateFile: CheckPer('add_supportfile')\n\t}\n\n\tconst { loading, refetch } = useQuery(ALL_SUPPORTS, {\n\t\tonCompleted: data => {\n\t\t\tsetSupports(data.allSupports);\n\t\t\tif (data.allSupports[0]) {\n\t\t\t\tsetSelectedSupport(data.allSupports[0])\n\t\t\t} else {\n\t\t\t\tsetSelectedSupport()\n\t\t\t}\n\t\t}\n\t})\n\n\tconst [deleteSupport] = useMutation(DELETE_SUPPORT, {\n\t\tonCompleted: data => {\n            message.success('Амжилттай устлаа');\n\t\t\trefetch()\n\t\t}\n\t})\n\n\tconst [upload, { loading: uploadLoading }] = useMutation(CREATE_SUPPORT_FILE, {\n\t\tonCompleted: data => {\n            message.success('Амжилттай хадгаллаа');\n\t\t\trefetch()\n\t\t}\n\t})\n\n\tconst fileUploading = value => {\n        upload({ variables: { file: value.file, support: selectedSupport.id } });\n        value.onSuccess(\"Ok\");\n    };\n\n\tfunction onDelete(id) {\n\t\tconfirm({\n\t\t  title: 'Устгах уу?',\n\t\t  okText: 'Устгах',\n\t\t  okType: 'danger',\n\t\t  cancelText: 'Болих',\n\t\t  onOk() {\n\t\t\tdeleteSupport({ variables: { id: id } }); \n\t\t  },\n\t\t});\n\t}\n\n\tconst showModal = (type) => {\n\t\tsetIsModalOpen(true);\n\t\tsetFormType(type)\n\t};\n\t\n\t// const handleOk = () => {\n\t// \tsetIsModalOpen(false);\n\t// };\n\t\n\tconst handleCancel = () => {\n\t\tsetIsModalOpen(false);\n\t};\n\n    const goToPrevPage = () => {\n        setPageNumber(pageNumber - 1)\n    }\n\tconst goToNextPage = () => {\n        setPageNumber(pageNumber + 1)\n    }\n\n\tconst checkFileType = (file) => {\n\t\tconst type = file.split('.').pop()\n\t\tswitch(type) {\n\t\t\tcase 'jpg':\n\t\t\tcase 'jpeg':\n\t\t\tcase 'webp':\n\t\t\tcase 'svg':\n\t\t\tcase 'png':\n\t\t\t\treturn `image`;\n\t\t\tcase 'mp3':\n\t\t\tcase 'm4a':\n\t\t\tcase 'flac':\n\t\t\t\treturn `audio`;\n\t\t\tcase 'mp4':\n\t\t\t\treturn `video`;\n\t\t\tcase `pdf`:\n\t\t\t\treturn `pdf`;\n\t\t\tdefault:\n\t\t\t\t// return BASE_SERVER_URL+file;\n\t\t\t\t\n\t\t}\n\t}\n\n\tconst FilePreview = ({ file }) => {\n        \n        switch (checkFileType(file)) {\n            case `audio`:\n                return (\n                    <ReactPlayer \n                        className=\"react-player\"\n                        width=\"100%\"\n                        height=\"50px\"\n                        controls={true}\n                        url={BASE_SERVER_URL+file} \n                    />\n                )\n            case `video`:\n                return (\n                    <ReactPlayer\n                        width=\"70%\"\n                        height=\"50%\"\n                        controls={true}\n                        url={BASE_SERVER_URL+file} \n                    />\n                )\n            case 'image':\n                return (\n                    <Card\n                        bodyStyle={{padding: 0}}\n                        cover={\n                            <div className=\"p-2\">\n                                <Image className=\"img-fluid\" alt=\"Preview\" src={BASE_SERVER_URL+file} preview={false} />\n                            </div>\n                        }\n                    >\n                    </Card>\n                )\n            case `pdf`:\n                return (\n                    <div>\n                        <Modal\n                            forceRender\n                            width={'80vw'}\n                            // visible={isModalVisible}\n                            onCancel={handleCancel}\n                            footer={[\n                                <Button key=\"back\" type='text' disabled={pageNumber === 1 && true} onClick={goToPrevPage}>\n                                  <IntlMessage id=\"main.previous\" />\n                                </Button>,\n                                <Button key=\"next\" type=\"primary\" disabled={pageNumber === numPages && true} onClick={goToNextPage}>\n                                  <IntlMessage id=\"main.next\" />\n                                </Button>,\n                            ]}\n                        >\n                            <SizeMe\n                                monitorHeight\n                                refreshRate={128}\n                                refreshMode={\"debounce\"}\n                                render={({ size }) => (\n                                    <Document \n                                        file={BASE_SERVER_URL+file}\n                                        onLoadSuccess={({ numPages })=>setNumPages(numPages)}\n                                        renderTextLayer={false}\n                                        loading={<Loading cover=\"content\" />}\n                                        renderMode=\"svg\"\n                                    >\n                                        <Page\n                                            className=\"test\"\n                                            width={size.width} \n                                            pageNumber={pageNumber}\n                                            renderTextLayer={false}\n                                            renderAnnotationLayer={false}\n                                        />\n                                    </Document>\n                                )}\n                            />\n                            <p>Нийт {numPages} хуудсаас {pageNumber}-г харуулж байна </p>\n                        </Modal>\n                        <Button type='primary' onClick={showModal} ><IntlMessage id=\"show-file\" /></Button>\n                    </div>\n                )\n            default:\n                return(\n                    <div>\n                        <Button type='primary' onClick={() => window.open(BASE_SERVER_URL+file, '_blank')} ><IntlMessage id=\"show-file\" /></Button>\n                    </div>\n                )\n        }\n\n    }\n\t\n\tif (loading) {\n\t\treturn <Loading cover='content' />\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ permissions.createSupport &&\n\t\t\t\t<Flex justifyContent=\"end\" alignItems=\"center\" className=\"\">\n\t\t\t\t\t<div className='mb-4'>\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => showModal('create')} icon={<PlusCircleOutlined />} >\n\t\t\t\t\t\t\tНэмэх\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\tvisible={isModalOpen} \n\t\t\t\t\t\t\tokButtonProps={{form:'SupportForm', key: 'submit', htmlType: 'submit'}}\n\t\t\t\t\t\t\tokText={<IntlMessage id=\"main.okText\" />}\n\t\t\t\t\t\t\tcancelText={<IntlMessage id=\"main.cancelText\" />}\n\t\t\t\t\t\t\tonCancel={handleCancel}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SupportForm formDatas={selectedSupport} type={formType} refetch={refetch} handleCancel={handleCancel} />\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t</div>\n\t\t\t\t</Flex>\n\t\t\t}\n\t\t\t<InnerAppLayout \n\t\t\t\tsideContent={<SettingsMenu supports={supports} setSelectedSupport={setSelectedSupport} />}\n\t\t\t\tmainContent={\n\t\t\t\t\t<div className=\"p-4\">\n\t\t\t\t\t\t{ selectedSupport &&\n\t\t\t\t\t\t\t<div className=\"container-fluid\">\n\t\t\t\t\t\t\t\t{ permissions.createFile &&\n\t\t\t\t\t\t\t\t\t<Upload \n\t\t\t\t\t\t\t\t\t\tmultiple={true}\n\t\t\t\t\t\t\t\t\t\taccept=\".jpg, .png, .pdf, .mp3, .mp4, .m4a\"\n\t\t\t\t\t\t\t\t\t\torientation=\"right\"\n\t\t\t\t\t\t\t\t\t\tcustomRequest={fileUploading}\n\t\t\t\t\t\t\t\t\t\tshowUploadList={false}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\t\t\tstyle={{float: 'right'}} \n\t\t\t\t\t\t\t\t\t\t\tsize='small' \n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\" \n\t\t\t\t\t\t\t\t\t\t\ticon={<UploadOutlined />} \n\t\t\t\t\t\t\t\t\t\t\tloading={uploadLoading} \n\t\t\t\t\t\t\t\t\t\t> <IntlMessage id=\"main.upload-file\" /> </Button>\n\t\t\t\t\t\t\t\t\t</Upload>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ permissions.deleteSupport &&\n\t\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\t\tclassName='float-right'\n\t\t\t\t\t\t\t\t\t\tsize='small' \n\t\t\t\t\t\t\t\t\t\ttype=\"danger\" \n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(selectedSupport.id)}\n\t\t\t\t\t\t\t\t\t\ticon={<DeleteOutlined />}\n\t\t\t\t\t\t\t\t\t> <IntlMessage id=\"delete\" /> </Button>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ permissions.deleteSupport &&\n\t\t\t\t\t\t\t\t\t<Button  \n\t\t\t\t\t\t\t\t\t\tclassName='float-right mr-4 bg-yellow-400'\n\t\t\t\t\t\t\t\t\t\tsize='small' \n\t\t\t\t\t\t\t\t\t\tonClick={() => showModal(\"edit\")}\n\t\t\t\t\t\t\t\t\t\ticon={<EditOutlined />}\n\t\t\t\t\t\t\t\t\t> <IntlMessage id=\"edit\" /> </Button>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<Title>{selectedSupport.title}</Title>\n\t\t\t\t\t\t\t\t\t<Paragraph> {selectedSupport.description} </Paragraph>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{ selectedSupport.supportfileSet?.map((item, index) => (\n\t\t\t\t\t\t\t\t\t<FilePreview key={index} file={item.file} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\tsideContentWidth={300}\n\t\t\t\tsideContentGutter={false}\n\t\t\t\tborder\n\t\t\t/>\n\t\t</>\n\t)\n}\n\nexport default Support\n","// This icon file is generated automatically.\nvar PlusCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"plus-circle\", \"theme\": \"outlined\" };\nexport default PlusCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlusCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar PlusCircleOutlined = function PlusCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PlusCircleOutlinedSvg\n  }));\n};\nPlusCircleOutlined.displayName = 'PlusCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(PlusCircleOutlined);"],"names":["Flex","props","children","className","alignItems","justifyContent","mobileFlex","flexDirection","defaultProps","ALL_SUPPORTS","gql","CREATE_SUPPORT","UPDATE_SUPPORT","DELETE_SUPPORT","CREATE_SUPPORT_FILE","ATTACH_OR_DETACH_SUPPORT_GROUP","useBreakpoint","Grid","SideContent","sideContent","sideContentWidth","border","style","width","SideContentMobile","visible","onSideContentClose","placement","closable","onClose","bodyStyle","paddingLeft","paddingRight","mainContent","pageHeader","sideContentGutter","isMobile","utils","includes","useState","setVisible","e","onClick","refetch","handleCancel","type","formDatas","Form","form","Option","Select","TextArea","Input","groups","setGroups","selectedGroups","setSelectedGroups","useMutation","onCompleted","data","attachOrDetachSupportGroup","message","map","item","variables","group","support","createSupport","id","createLoading","loading","updateSupport","onGroupDeselect","value","useQuery","ALL_GROUPS","allGroups","useEffect","formData","description","title","supportgroupSet","setFieldsValue","resetFields","spinning","tip","layout","name","onFinish","values","label","IntlMessage","rules","required","mode","onDeselect","onSelect","index","rows","Title","Typography","Paragraph","confirm","Modal","SettingsMenu","supports","setSelectedSupport","defaultSelectedKeys","elm","isModalOpen","setIsModalOpen","setSupports","selectedSupport","pageNumber","setPageNumber","numPages","setNumPages","formType","setFormType","permissions","CheckPer","editSupport","deleteSupport","createFile","allSupports","upload","uploadLoading","showModal","goToPrevPage","goToNextPage","FilePreview","file","split","pop","checkFileType","height","controls","url","BASE_SERVER_URL","padding","cover","alt","src","preview","forceRender","onCancel","footer","disabled","SizeMe","monitorHeight","refreshRate","refreshMode","render","size","onLoadSuccess","renderTextLayer","Loading","renderMode","renderAnnotationLayer","window","open","icon","PlusCircleOutlined","okButtonProps","key","htmlType","okText","cancelText","multiple","accept","orientation","customRequest","onSuccess","showUploadList","float","UploadOutlined","okType","onOk","DeleteOutlined","EditOutlined","supportfileSet","ref","React","AntdIcon","_objectSpread","PlusCircleOutlinedSvg","displayName"],"sourceRoot":""}