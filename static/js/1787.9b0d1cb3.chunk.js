"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[1787],{41787:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var n,a=s(72791),r=s(19812),l=s(29439),i=s(30168),o=s(50419),c=s(90785),m=s(73332),u=s(49389),d=s(87309),x=s(29529),f=s(38999),h=s(15471),g=s(64880),p=s(26872),j=s(27570),w=s(84376),v=s(82630),Z=s(53719),b=s(80184),k=(0,j.Ps)(n||(n=(0,i.Z)(["\n    mutation tokenAuth($username: String!, $password: String!){\n        tokenAuth(username: $username, password: $password) {\n\t\t\tsuccess,\n\t\t\terrors,\n\t\t\tunarchiving,\n\t\t\ttoken,\n\t\t\t# refreshToken,\n\t\t\tunarchiving,\n\t\t\tuser {\n\t\t\t\tid,\n\t\t\t\tfirstName,\n\t\t\t\tlastName,\n\t\t\t\tusername,\n\t\t\t}\n        }\n    }\n"]))),y=function(e){var t=(0,g.k6)(),s=(0,a.useContext)(Z.S),n=s.user,r=s.refetch,i=localStorage.getItem(h.UA),j=(0,a.useState)(!1),y=(0,l.Z)(j,2),N=y[0],I=y[1];var S=(0,w.D)(k,{onCompleted:function(e){if(!0===e.tokenAuth.success)o.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u043d\u044d\u0432\u0442\u044d\u0440\u043b\u044d\u044d!"),localStorage.setItem(h.UA,e.tokenAuth.token),r();else I(!0)}}),A=(0,l.Z)(S,2),C=A[0],P=A[1].loading;return N&&setTimeout((function(){I(!1)}),3e3),(0,a.useEffect)((function(){i&&n&&t.push("/app/home")}),[n,i,t]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.ww.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:N?1:0,marginBottom:N?20:0},children:(0,b.jsx)(c.Z,{type:"error",showIcon:!0,message:(0,b.jsx)(v.Z,{id:"login-fail"})})}),(0,b.jsxs)(m.Z,{layout:"vertical",name:"login-form",onFinish:function(e){C({variables:{username:e.username,password:e.password}})},children:[(0,b.jsx)(m.Z.Item,{name:"username",label:(0,b.jsx)(v.Z,{id:"username"}),rules:[{required:!0,message:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}],children:(0,b.jsx)(u.Z,{prefix:(0,b.jsx)(x.Z,{className:"text-primary"})})}),(0,b.jsx)(m.Z.Item,{name:"password",label:(0,b.jsx)("div",{children:(0,b.jsx)("span",{children:(0,b.jsx)(v.Z,{id:"password"})})}),rules:[{required:!0,message:"\u041d\u0443\u0443\u0446 \u04af\u0433 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}],children:(0,b.jsx)(u.Z.Password,{prefix:(0,b.jsx)(f.Z,{className:"text-primary"})})}),(0,b.jsx)(m.Z.Item,{children:(0,b.jsxs)(d.Z,{type:"primary",htmlType:"submit",block:!0,loading:P,children:[" ",(0,b.jsx)(v.Z,{id:"main.login"})]})})]})]})};y.defaultProps={otherSignIn:!0,showForgetPassword:!1};var N=y,I=(s(59305),function(){var e=(0,r.Z)().domainData;return(0,b.jsx)("section",{className:"bg-white h-screen",children:(0,b.jsxs)("div",{className:"mx-auto flex justify-center h-full flex-col lg:flex-row",children:[(0,b.jsx)("div",{className:"w-full lg:w-1/2 px-2 py-40 sm:py-48 sm:px-12 hidden flex-col justify-center relative h-full md:flex",style:{backgroundImage:"url(/img/background.png)",backgroundRepeat:"repeat",backgroundColor:"#0f172a"},children:(0,b.jsxs)("div",{className:"flex relative z-30 flex-col justify-center",children:[(0,b.jsx)("img",{className:"mx-auto w-1/3 ",src:e.logo,alt:"login"}),(0,b.jsx)("p",{className:"text-center text-xl text-white leading-normal pt-3",children:"\u0417\u042d\u0412 \u0417\u0410\u041b\u0423\u0423\u0427\u0423\u0423\u0414\u042b\u041d \u0425\u041e\u041b\u0411\u041e\u041e"}),(0,b.jsx)("p",{className:"text-center text-xl text-white leading-normal pt-3",children:"\u0421\u0443\u0440\u0433\u0430\u043b\u0442 \u043c\u0435\u043d\u0435\u0436\u043c\u0435\u043d\u0442\u0438\u0439\u043d \u0446\u043e\u0433\u0446 \u0441\u0438\u0441\u0442\u0435\u043c"})]})}),(0,b.jsx)("div",{className:"w-full md:w-1/2 flex justify-center h-full bg-background",children:(0,b.jsxs)("div",{className:"w-full text-gray-800 mb-12 sm:mb-0 flex flex-col items-center justify-center px-2 sm:px-0",children:[(0,b.jsx)("img",{className:"mx-auto w-48",alt:"logo",src:"/img/emind.png"}),(0,b.jsx)(N,{}),(0,b.jsx)("div",{className:"absolute bottom-0",children:(0,b.jsxs)("p",{className:"text-slate-700",children:["\xa9 ",(new Date).getFullYear()," Meta Soft LLC "]})})]})})]})})})}}]);
//# sourceMappingURL=1787.9b0d1cb3.chunk.js.map