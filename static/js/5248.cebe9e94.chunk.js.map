{"version":3,"file":"static/js/5248.cebe9e94.chunk.js","mappings":"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","sources":["components/shared-components/Flex/index.js","graphql/news.js","views/app-views/news/index.js","views/app-views/news/news.js","../node_modules/@ant-design/icons-svg/es/asn/PlusCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Flex = props => {\n\tconst { children, className, alignItems, justifyContent, mobileFlex, flexDirection } = props\n\tconst getFlexResponsive = () => mobileFlex ? 'd-flex' : 'd-md-flex'\n\treturn (\n\t\t<div className={`${getFlexResponsive()} ${className} ${flexDirection?('flex-' + flexDirection): ''} ${alignItems?('align-items-' + alignItems):''} ${justifyContent?('justify-content-' + justifyContent):''}` }>\n\t\t\t{children}\n\t\t</div>\n\t)\n}\n\nFlex.propTypes = {\n\tclassName: PropTypes.string,\n\talignItems: PropTypes.string,\n\tflexDirection: PropTypes.string,\n\tjustifyContent: PropTypes.string,\n\tmobileFlex: PropTypes.bool\n}\n\nFlex.defaultProps = {\n\tmobileFlex: true,\n\tflexDirection: 'row',\n\tclassName: ''\n};\n\n\nexport default Flex\n","import { gql } from \"@apollo/client\";\n\nexport const ALL_NEWS = gql`\n    query allNews ($offset: Int) {\n        allNews (offset: $offset) {\n            id\n            title\n            description\n            image\n            createdAt\n        }\n    }\n`\n\nexport const NEWS_BY_ID = gql`\n    query newsById($id: ID!) {\n        newsById(id: $id) {\n            id\n            title\n            description\n            image\n            createdAt\n        }\n    }\n`\n\nexport const CREATE_NEWS = gql`\n    mutation createNews($title: String, $description: String, $image: Upload) {\n        createNews(title: $title, description: $description, image: $image) {\n            news {\n                id\n                title\n                description\n                image\n                createdAt\n            }\n        }\n    }\n`\n\nexport const UPDATE_NEWS = gql`\n    mutation updateNews($id: ID, $title: String, $description: String, $image: Upload) {\n        updateNews(id: $id, title: $title, description: $description, image: $image) {\n            news {\n                id\n                title\n                description\n                image\n                createdAt\n            }\n        }\n    }\n`\n\nexport const DELETE_NEWS = gql`\n    mutation deleteNews($id: ID) {\n        deleteNews(id: $id) {\n            news {\n                title\n            }\n        }\n    }\n`","import React from 'react'\nimport { Button } from 'antd'\nimport { PlusCircleOutlined } from '@ant-design/icons';\nimport News from './news'\nimport Flex from 'components/shared-components/Flex'\nimport { CheckPer } from 'hooks/checkPermission'\nimport IntlMessage from 'components/util-components/IntlMessage';\nimport { Link } from 'react-router-dom';\nimport { APP_PREFIX_PATH } from 'configs/AppConfig';\n\nexport default function Index() {\n\n    const permissions = {\n        create: CheckPer('add_news')\n    }\n\n    return (\n        <div>\n            <Flex alignItems=\"center\" justifyContent=\"end\" mobileFlex={false}>\n                {permissions.create === true &&\n                    <div className=\"mr-md-3 mb-3\">\n                        <Link to={APP_PREFIX_PATH+'/news/create'}>\n                            <Button type=\"primary\" icon={<PlusCircleOutlined />} block> <IntlMessage id=\"add_new\" /> </Button>\n                        </Link>\n                    </div>\n                }\n            </Flex>\n            <News />\n        </div>\n    )\n}\n","import { useQuery } from '@apollo/client'\nimport Loading from 'components/shared-components/Loading'\nimport { BASE_SERVER_URL } from 'configs/AppConfig'\nimport { ALL_NEWS } from 'graphql/news'\nimport moment from 'moment'\nimport React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nexport default function News() {\n\n    const [offset, setOffset] = useState(0)\n    const [canFetch, setCanFetch] = useState(true)\n    const [news, setNews] = useState([])\n\n    const { loading } = useQuery(ALL_NEWS, {\n        variables: { offset: offset },\n        onCompleted: res => {\n            if (res.allNews.length < 12) {\n                setCanFetch(false)\n            }\n            setNews(prevState => [...prevState, ...res.allNews])\n        }\n    })\n\n    useEffect(() => {\n        const handleScroll = () => {\n            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n            const scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;\n            const clientHeight = document.documentElement.clientHeight || window.innerHeight;\n\n            if (scrollTop + clientHeight >= scrollHeight - 100) {\n                setOffset(prevState => prevState + 12)\n            }\n        };\n\n        if (canFetch && !loading) {\n            window.addEventListener('scroll', handleScroll);\n\n        } else {\n            window.removeEventListener('scroll', handleScroll);\n        }\n\n        // Cleanup the event listener when the component unmounts\n        return () => {\n            window.removeEventListener('scroll', handleScroll);\n        };\n    }, [canFetch, loading]);\n\n    return (\n        <>\n            <div className='grid grid-cols-1 gap-4 md:grid-cols-4'>\n                {\n                    news.map(item => (\n                        <Link to={`/app/news/${item.id}`} key={item.id} className=\"bg-white overflow-hidden border-b-4 border-emind \">\n                            <img src={BASE_SERVER_URL + item.image} alt={item.image} className=\"w-full object-cover h-32 sm:h-48 md:h-64\" />\n                            <div className=\"p-4 md:p-6\">\n                                <h3 className=\"font-semibold mb-2 text-xl leading-tight sm:leading-normal\">{item.title}</h3>\n                                <div className=\"text-sm flex items-center\">\n                                    <svg className=\"opacity-75 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width={12} height={12} viewBox=\"0 0 97.16 97.16\" style={{ enableBackground: 'new 0 0 97.16 97.16' }} xmlSpace=\"preserve\">\n                                        <path d=\"M48.58,0C21.793,0,0,21.793,0,48.58s21.793,48.58,48.58,48.58s48.58-21.793,48.58-48.58S75.367,0,48.58,0z M48.58,86.823    c-21.087,0-38.244-17.155-38.244-38.243S27.493,10.337,48.58,10.337S86.824,27.492,86.824,48.58S69.667,86.823,48.58,86.823z\" />\n                                        <path d=\"M73.898,47.08H52.066V20.83c0-2.209-1.791-4-4-4c-2.209,0-4,1.791-4,4v30.25c0,2.209,1.791,4,4,4h25.832    c2.209,0,4-1.791,4-4S76.107,47.08,73.898,47.08z\" />\n                                    </svg>\n                                    <p className=\"leading-none my-auto\">{moment(item.createdAt).format(\"YYYY-MM-DD\")}</p>\n                                </div>\n                            </div>\n                        </Link>\n                    ))\n                }\n            </div>\n            {loading && <Loading />}\n        </>\n    )\n}\n","// This icon file is generated automatically.\nvar PlusCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"plus-circle\", \"theme\": \"outlined\" };\nexport default PlusCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlusCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar PlusCircleOutlined = function PlusCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PlusCircleOutlinedSvg\n  }));\n};\nPlusCircleOutlined.displayName = 'PlusCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(PlusCircleOutlined);"],"names":["Flex","props","children","className","alignItems","justifyContent","mobileFlex","flexDirection","defaultProps","ALL_NEWS","gql","NEWS_BY_ID","CREATE_NEWS","UPDATE_NEWS","DELETE_NEWS","Index","permissions","CheckPer","to","APP_PREFIX_PATH","type","icon","block","id","News","useState","offset","setOffset","canFetch","setCanFetch","news","setNews","loading","useQuery","variables","onCompleted","res","allNews","length","prevState","useEffect","handleScroll","scrollTop","document","documentElement","body","scrollHeight","clientHeight","window","innerHeight","addEventListener","removeEventListener","map","item","src","BASE_SERVER_URL","image","alt","title","xmlns","xmlnsXlink","version","x","y","width","height","viewBox","style","enableBackground","xmlSpace","d","moment","createdAt","format","PlusCircleOutlined","ref","React","AntdIcon","_objectSpread","PlusCircleOutlinedSvg","displayName"],"sourceRoot":""}