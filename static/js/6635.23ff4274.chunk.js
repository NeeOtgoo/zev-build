(self.webpackChunkemind=self.webpackChunkemind||[]).push([[6635],{68470:function(n,e,i){"use strict";i(72791);var t=i(80184),l=function(n){var e=n.children,i=n.className,l=n.alignItems,s=n.justifyContent,o=n.mobileFlex,r=n.flexDirection;return(0,t.jsx)("div",{className:"".concat(o?"d-flex":"d-md-flex"," ").concat(i," ").concat(r?"flex-"+r:""," ").concat(l?"align-items-"+l:""," ").concat(s?"justify-content-"+s:""),children:e})};l.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},e.Z=l},25566:function(n,e,i){"use strict";i.d(e,{$A:function(){return G},Ap:function(){return B},Ho:function(){return K},K_:function(){return z},ND:function(){return R},S8:function(){return X},U7:function(){return T},Vv:function(){return D},bb:function(){return k},ds:function(){return M},eX:function(){return A},iZ:function(){return H},j$:function(){return _},kZ:function(){return q},mq:function(){return C},oJ:function(){return J},q$:function(){return P},sZ:function(){return L},u$:function(){return N},vX:function(){return U},zN:function(){return w}});var t,l,s,o,r,d,a,u,c,f,m,$,x,p,Z,h,j,S,y,b,O,F,I,g=i(30168),v=i(27570),L=(0,v.Ps)(t||(t=(0,g.Z)(["\n    query allOnlineTypes {\n        allOnlineTypes {\n            id\n            name\n        }\n    }\n\n"]))),P=(0,v.Ps)(l||(l=(0,g.Z)(["\n    query allOnlineFiles ($folder: Int){\n        allOnlineFiles (folder: $folder){\n            id\n            file\n        }\n    }\n"]))),w=(0,v.Ps)(s||(s=(0,g.Z)(["\n    query allFolders ($folder: Int){\n        allFolders(folder: $folder){\n            id\n            name\n        }\n    }\n    "]))),k=(0,v.Ps)(o||(o=(0,g.Z)(["\n    mutation createOnlineFile($file: Upload!, $folder: Int) {\n        createOnlineFile(file: $file, folder: $folder) {\n            onlineFile {\n                id\n                file\n            }\n        }\n    }\n"]))),N=(0,v.Ps)(r||(r=(0,g.Z)(["\n    mutation createOnlineFileFolder($name: String, $subFolder: Int){\n        createOnlineFileFolder(name: $name, subFolder: $subFolder){\n            onlineFileFolder{\n                id\n            }\n        }\n    }\n"]))),C=(0,v.Ps)(d||(d=(0,g.Z)(["\n    mutation deleteOnlineFile ($id: ID) {\n        deleteOnlineFile (id: $id) {\n            onlineFile {\n                file\n            }\n        }\n    }\n"]))),B=(0,v.Ps)(a||(a=(0,g.Z)(["\n    mutation deleteOnlineFileFolder ($id: Int){\n        deleteOnlineFileFolder (id: $id){\n            onlineFileFolder {\n                name\n            }\n        }\n    }\n"]))),T=(0,v.Ps)(u||(u=(0,g.Z)(["\n    mutation createOnlineLesson ($description: String, $schoolyear: Int, $status: String) {\n        createOnlineLesson (description: $description, schoolyear: $schoolyear, status: $status) {\n            onlineLesson {\n                id\n            }\n        }\n    }\n"]))),q=(0,v.Ps)(c||(c=(0,g.Z)(["\n    mutation updateOnlineLesson ($description: String, $id: ID, $schoolyear: Int, $status: String) {\n        updateOnlineLesson (description: $description, id: $id, schoolyear: $schoolyear, status: $status) {\n            onlineLesson {\n                id\n            }\n        }\n    }\n"]))),D=(0,v.Ps)(f||(f=(0,g.Z)(['\n    query allOnlineLessons ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "online_lesson", modelName: "Online_lesson", filter: $filter) {\n            count\n        }\n        allOnlineLessons (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            schoolyear {\n                id\n                schoolyear\n            }\n            description\n            status\n            createUserid {\n                isTeacher\n                teacher {\n                    name\n                }\n            }\n        }\n    }\n']))),A=(0,v.Ps)(m||(m=(0,g.Z)(["\n    query onlineLessonById ($id: Int!) {\n        onlineLessonById (id: $id) {\n            id\n            schoolyear {\n                schoolyear\n                id\n            }\n            description\n            status\n        }\n    }\n"]))),_=(0,v.Ps)($||($=(0,g.Z)(["\n    mutation deleteOnlineLesson ($id: ID) {\n        deleteOnlineLesson (id: $id) {\n            onlineLesson {\n                status\n            }\n        }\n    }\n"]))),M=(0,v.Ps)(x||(x=(0,g.Z)(["\n    query allOnlineSubByLesson ($onlineLesson: Int!) {\n        allOnlineSubByLesson (onlineLesson: $onlineLesson) {\n            id\n            title\n            description\n            createUserid {\n                isTeacher\n                teacher {\n                    name\n                }\n            }\n            onlineType {\n                id\n                name\n            }\n            onlineSubFileSet {\n                onlineFile {\n                    id\n                    file\n                }\n            }\n            status\n        }\n    }\n"]))),U=(0,v.Ps)(p||(p=(0,g.Z)(["\n    mutation createOnlineSub ($description: String, $onlineLesson: Int, $status: String, $title: String, $onlineType: Int) {\n        createOnlineSub (description: $description, onlineLesson: $onlineLesson, status: $status, title: $title, onlineType: $onlineType) {\n            onlineSub {\n                id\n            }\n        }\n    }\n"]))),z=(0,v.Ps)(Z||(Z=(0,g.Z)(["\n    mutation updateOnlineSub ( $description: String, $id: ID, $onlineLesson: Int, $status: String, $title: String, $onlineType: Int) {\n        updateOnlineSub (description: $description, id: $id, onlineLesson: $onlineLesson, status: $status, title: $title, onlineType: $onlineType) {\n            onlineSub {\n                id\n            }\n        }\n    }\n"]))),H=(0,v.Ps)(h||(h=(0,g.Z)(["\n    mutation deleteOnlineSub ($id: ID) {\n        deleteOnlineSub (id: $id) {\n            onlineSub {\n                title\n            }\n        }\n    }\n"]))),J=(0,v.Ps)(j||(j=(0,g.Z)(["\n    query onlineSubById ($id: Int!) {\n        onlineSubById (id: $id) {\n            title\n            description\n            onlineSubFileSet {\n                onlineFile {\n                    id\n                    file\n                }\n            }\n            onlineType {\n                id\n                name\n            }\n            onlineAttendanceSet {\n                student {\n                    id\n                    studentCode\n                    name\n                    familyName\n                }\n            }\n            status\n            createdAt\n        }\n    } \n"]))),K=(0,v.Ps)(S||(S=(0,g.Z)(["\n    mutation createOnlineStudent ($onlineLesson: Int, $studentCode: String, $section: Int) {\n        createOnlineStudent (onlineLesson: $onlineLesson, studentCode: $studentCode, section: $section) {\n            onlineStudent {\n                id\n            }\n        }\n    }\n"]))),R=(0,v.Ps)(y||(y=(0,g.Z)(["\n    mutation deleteOnlineStudent ($id: ID) {\n        deleteOnlineStudent (id: $id) {\n            onlineStudent {\n                student {\n                    name\n                }\n            }\n        }\n    }\n"]))),X=(0,v.Ps)(b||(b=(0,g.Z)(["\n    query allOnlineStudentByLesson ($onlineLesson: Int!) {\n        allOnlineStudentByLesson (onlineLesson: $onlineLesson) {\n            id\n            student {\n                id\n                familyName\n                name\n                studentCode\n            }\n        }\n    }\n"]))),G=((0,v.Ps)(O||(O=(0,g.Z)(["\n    query allOnlineSubFiles ($onlineSub: Int) {\n        allOnlineSubFiles (onlineSub: $onlineSub) {\n            id\n            onlineFile {\n                id\n                file\n            }\n        }\n    }\n"]))),(0,v.Ps)(F||(F=(0,g.Z)(["\n    mutation createOnlineSubFile ($onlineFile: Int, $onlineSub: Int) {\n        createOnlineSubFile (onlineFile: $onlineFile, onlineSub: $onlineSub) {\n            onlineSubFile {\n                id\n            }\n        }\n    }\n"]))));(0,v.Ps)(I||(I=(0,g.Z)(["\n    mutation deleteOnlineSubFile ($id: Int) {\n        deleteOnlineSubFile (id: $id) {\n            onlineSubFile {\n                id\n            }\n        }\n    }\n"])))},64893:function(n,e,i){"use strict";i.r(e);var t=i(29439),l=i(72791),s=i(30941),o=i(66871),r=i(36755),d=i(20003),a=i(87309),u=i(66106),c=i(30914),f=i(75594),m=i(91333),$=i(71381),x=i(53834),p=i(87241),Z=i(96578),h=i(64880),j=i(6491),S=i(10586),y=i(24112),b=i(72426),O=i.n(b),F=i(68470),I=i(38937),g=i(25566),v=i(59305),L=i(82630),P=i(80184),w=s.Z.Title,k=s.Z.Paragraph;j.v0.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(j.v0.version,"/pdf.worker.js");var N=[{title:(0,P.jsx)(L.Z,{id:"studentCode"}),dataIndex:["student","studentCode"],key:"studentCode"},{title:(0,P.jsx)(L.Z,{id:"familyName"}),dataIndex:["student","familyName"],key:"familyName"},{title:(0,P.jsx)(L.Z,{id:"name"}),dataIndex:["student","name"],key:"name"}];e.default=function(n){var e=(0,h.UO)(),i=(0,h.k6)(),b=(0,l.useState)(1),C=(0,t.Z)(b,2),B=C[0],T=C[1],q=(0,l.useState)(null),D=(0,t.Z)(q,2),A=D[0],_=D[1],M=(0,l.useState)(!1),U=(0,t.Z)(M,2),z=U[0],H=U[1],J=(0,l.useState)(),K=(0,t.Z)(J,2),R=(K[0],K[1]),X=(0,Z.a)(g.oJ,{variables:{id:e.subLesson}}),G=X.data,V=X.loading,W=function(n){H(!0),R(nn(n))},E=function(){H(!1)},Q=function(){T(B-1)},Y=function(){T(B+1)},nn=function(n){var e=n.file;switch(function(n){switch(n.split(".").pop()){case"jpg":case"jpeg":case"webp":case"svg":case"png":return"image";case"mp3":case"m4a":case"flac":return"audio";case"mp4":return"video";case"pdf":return"pdf";default:return v._O+n}}(e)){case"audio":return(0,P.jsx)(y.Z,{className:"react-player",width:"100%",height:"50px",controls:!0,url:v._O+e});case"video":return(0,P.jsx)(y.Z,{width:"100%",height:"100%",controls:!0,url:v._O+e});case"image":return(0,P.jsx)(o.Z,{children:(0,P.jsx)(r.Z,{className:"img-fluid items-",width:200,alt:"Preview",src:v._O+e})});case"pdf":return(0,P.jsxs)("div",{children:[(0,P.jsxs)(d.Z,{forceRender:!0,width:"50vw",visible:z,onCancel:E,footer:[(0,P.jsx)(a.Z,{type:"text",disabled:1===B&&!0,onClick:Q,children:(0,P.jsx)(L.Z,{id:"main.previous"})},"back"),(0,P.jsx)(a.Z,{type:"primary",disabled:B===A&&!0,onClick:Y,children:(0,P.jsx)(L.Z,{id:"main.next"})},"next")],children:[(0,P.jsx)(S.SizeMe,{monitorHeight:!0,refreshRate:128,refreshMode:"debounce",render:function(n){var i=n.size;return(0,P.jsx)(j.BB,{file:v._O+e,onLoadSuccess:function(n){var e=n.numPages;return _(e)},renderTextLayer:!1,loading:(0,P.jsx)(I.Z,{cover:"content"}),renderMode:"svg",children:(0,P.jsx)(j.T3,{className:"test",width:i.width,pageNumber:B,renderTextLayer:!1,renderAnnotationLayer:!1})})}}),(0,P.jsxs)("p",{children:["\u041d\u0438\u0439\u0442 ",A," \u0445\u0443\u0443\u0434\u0441\u0430\u0430\u0441 ",B,"-\u0433 \u0445\u0430\u0440\u0443\u0443\u043b\u0436 \u0431\u0430\u0439\u043d\u0430 "]})]}),(0,P.jsx)(a.Z,{type:"primary",onClick:W,children:(0,P.jsx)(L.Z,{id:"show-file"})})]});default:return(0,P.jsx)("div",{children:(0,P.jsx)(a.Z,{type:"primary",onClick:function(){return window.open(v._O+e,"_blank")},children:(0,P.jsx)(L.Z,{id:"show-file"})})})}};return V?(0,P.jsx)(I.Z,{cover:"content"}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(F.Z,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:(0,P.jsx)(F.Z,{mobileFlex:!1,children:(0,P.jsx)("div",{className:"text-right",children:(0,P.jsxs)(a.Z,{onClick:function(){return i.goBack()},type:"default",icon:(0,P.jsx)(x.Z,{}),block:!0,children:[" ",(0,P.jsx)(L.Z,{id:"back"})]})})})}),(0,P.jsxs)(u.Z,{gutter:!0===n.viewAttendance?[8,16]:24,children:[(0,P.jsx)(c.Z,{xs:24,xl:!0===n.viewAttendance?18:24,children:(0,P.jsx)(o.Z,{className:"mt-4",children:(0,P.jsxs)(s.Z,{children:[(0,P.jsx)(w,{children:G.onlineSubById.title}),(0,P.jsxs)(u.Z,{gutter:[8,8],children:[(0,P.jsxs)(c.Z,{span:12,children:[(0,P.jsx)(w,{level:5,children:(0,P.jsx)(L.Z,{id:"added-date"})}),(0,P.jsx)(p.Z,{})," ",O()(G.onlineSubById.createdAt).format("MMMM DD")]}),(0,P.jsxs)(c.Z,{span:12,children:[(0,P.jsx)(w,{level:5,children:(0,P.jsx)(L.Z,{id:"onlineType"})}),(0,P.jsx)(f.Z,{color:"cyan"}),(0,P.jsx)("span",{children:G.onlineSubById.onlineType.name})]})]}),(0,P.jsx)(m.Z,{}),(0,P.jsx)(k,{className:"mt-4",children:G.onlineSubById.description}),(0,P.jsxs)(m.Z,{children:[" ",(0,P.jsx)(w,{level:2,children:(0,P.jsx)(L.Z,{id:"content"})}),"  "]}),(0,P.jsx)("p",{children:G.onlineSubById.content}),(0,P.jsxs)(m.Z,{children:[" ",(0,P.jsx)(w,{level:2,children:(0,P.jsx)(L.Z,{id:"file"})})," "]}),(0,P.jsx)(k,{children:G.onlineSubById.onlineSubFileSet.map((function(n,e){return(0,P.jsx)(nn,{file:n.onlineFile.file},e)}))})]})})}),!0===n.viewAttendance&&(0,P.jsx)(c.Z,{xs:24,xl:6,children:(0,P.jsxs)(o.Z,{className:"mt-4",children:[(0,P.jsx)(w,{className:"text-center",level:2,children:(0,P.jsx)(L.Z,{id:"class-attendance"})}),(0,P.jsx)($.Z,{rowKey:"studentCode",pagination:!1,columns:N,dataSource:G.onlineSubById.onlineAttendanceSet})]})})]})]})}},14601:function(){},32767:function(){},28251:function(){},57677:function(){},1543:function(){},87324:function(){}}]);
//# sourceMappingURL=6635.23ff4274.chunk.js.map