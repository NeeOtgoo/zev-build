{"version":3,"file":"static/js/362.d6234ac4.chunk.js","mappings":"oIACO,IAAMA,EAAmB,4B,6ICCnBC,GAAiBC,EAAAA,EAAAA,IAAG,0RAapBC,GAAyBD,EAAAA,EAAAA,IAAG,yRAqC5BE,IAxBeF,EAAAA,EAAAA,IAAG,gIAUIA,EAAAA,EAAAA,IAAG,6QAcHA,EAAAA,EAAAA,IAAG,45C,6LCmCtC,UA/EsB,WAElB,IAAQG,GAASC,EAAAA,EAAAA,MAATD,KACR,GAAwBE,EAAAA,EAAAA,UAAS,CAAC,GAAE,eAA7BC,EAAI,KAAEC,EAAO,KAEpB,GAA2BC,EAAAA,EAAAA,GAAST,EAAAA,GAAgB,CAChDU,UAAW,CAAEC,YAAaP,GAC1BQ,YAAa,SAAAL,GACTC,EAAQD,EAAKM,cACjB,IAJIC,EAAO,EAAPA,QAASC,EAAK,EAALA,MAOjB,OAAIA,GAA2B,2CAAlBA,EAAMC,SAEX,SAAC,KAAM,CACHC,OAAO,MACPC,MAAM,wFACNC,SAAS,+HAKjBL,GACO,SAAC,IAAO,CAACM,MAAM,aAItB,UAAC,IAAI,CACDC,MAAO,CAAEC,WAAY,kBAAmBC,WAAW,OAASC,MAAO,SACnEC,UAAU,MACVC,UAAU,EAAM,WAEhB,UAAC,IAAG,CAACC,OAAQ,CAAC,GAAI,IAAI,WAClB,SAAC,IAAG,CAACC,KAAM,EAAGH,UAAU,aAAY,UAChC,SAAC,IAAK,CACFJ,MAAO,CAAEQ,UAAW,SACpBC,IAAI,sBACJC,SAAS,OAGjB,SAAC,IAAG,CAACH,KAAM,EAAE,UACT,iBAAKH,UAAU,cAAa,WACxB,cAAGJ,MAAO,CAAEW,SAAU,QAAS,SAAGzB,EAAK0B,UACvC,gBAAKR,UAAU,mBAAmBJ,MAAO,CAAEW,SAAU,OAAQT,WAAW,QAAWW,wBAAyB,CAAEC,OAAQ5B,EAAK6B,iBAGnI,SAAC,IAAG,CAACR,KAAM,EAAGH,UAAU,YAAW,UAC/B,SAAC,IAAK,CACFJ,MAAO,CAAEQ,UAAW,SACpBC,IAAK/B,EAAAA,EAAiBQ,EAAK8B,aAC3BN,SAAS,UAIrB,SAAC,IAAO,KACR,SAAC,IAAG,WACA,UAAC,IAAG,CAACH,KAAM,GAAIH,UAAU,cAAa,WAClC,8KACA,gBAAKJ,MAAO,CAAEW,SAAU,QAAUE,wBAAyB,CAAEC,OAAQ5B,EAAK+B,iBAGlF,SAAC,IAAO,KACR,SAAC,IAAG,CAACX,OAAQ,CAAC,GAAI,IAAI,UAClB,SAAC,IAAG,CAACC,KAAM,GAAG,UACV,gBAAKH,UAAU,cAAcS,wBAAyB,CAAEC,OAAQ5B,EAAKgC,mBAG7E,SAAC,IAAG,WACA,SAAC,IAAG,CAACX,KAAM,GAAIH,UAAU,cAAa,UAClC,SAAC,IAAK,CACFK,IAAG,iFAA4EU,OAAOC,SAASC,SAAQ,+BAAuBnC,EAAKI,YAAW,sBAC9IoB,SAAS,UAMjC,C","sources":["constants/Url.js","graphql/report.js","views/report-views/student-report/index.js"],"sourcesContent":["// Emind\nexport const REPORT_IMAGE_URL = 'http://66.181.175.235:8001';\n\n// Dhis\n// export const REPORT_IMAGE_URL = 'http://103.10.20.132:8001';\n\n// Dev\n// export const REPORT_IMAGE_URL = 'http://192.168.1.6:8000';","import { gql } from \"@apollo/client\";\n\nexport const STUDENT_REPORT = gql `\n    query studentReport ($studentCode: String) {\n        studentReport (studentCode: $studentCode) {\n            school\n            textTop\n            textMid\n            textBottom\n            studentPhoto\n            studentCode\n        }\n    }\n`;\n\nexport const STUDENT_REPORT_SECTION = gql `\n    query studentReportSection ($section: Int) {\n        studentReportSection (section: $section) {\n            school\n            textTop\n            textMid\n            textBottom\n            studentPhoto\n            studentCode\n        }\n    }\n`;\n\nexport const ALL_SECTIONS = gql `\n    query allSections {\n        allSections {\n            id\n            section\n        }\n    }\n`;\n\n\nexport const STUDENT_SCHOOL_YEAR = gql `\n    query studentSchoolyear ($student: Int) {\n        studentSchoolyear (student: $student) {\n            id\n            schoolyear\n            season\n            semesterCode\n            startDate\n            endDate\n        }\n    }\n`;\n\n\nexport const ALL_STUDENTS_REPORT = gql`\n    query allStudentsReport {\n        allStudentsReport {\n            id\n            user {\n                id\n                username\n                email\n            }\n            studentCode\n            surname\n            familyName\n            name\n            religion\n            registerNo\n            nationality\n            state\n            photo\n            phone\n            address\n            activity {\n                id\n                name\n            }\n            joinDate\n            sex\n            birthdate\n            classtime {\n                id\n                name\n            }\n            birthCity {\n                id\n                name\n            }\n            birthDistrict {\n                id\n                name\n            }\n            status {\n                id\n                name\n            }\n            statusExtra {\n                id\n                name\n            }\n            school {\n                id\n                name\n            }\n            classes {\n                id\n                classes\n            }\n            section {\n                id\n                section\n            }\n            program {\n                id\n                program\n            }\n            joinSchoolyear {\n                id\n                schoolyear\n            }\n        }\n    }\n`;","import { useQuery } from '@apollo/client';\nimport { Card, Col, Divider, Image, Result, Row } from 'antd';\nimport Loading from 'components/shared-components/Loading';\nimport { REPORT_IMAGE_URL } from 'constants/Url';\nimport { STUDENT_REPORT } from 'graphql/report';\nimport React, { useState } from 'react'\nimport { useParams } from 'react-router-dom'\n\nconst StudentReport = () => {\n\n    const { slug } = useParams();\n    const [data, setData] = useState({});\n\n    const { loading, error } = useQuery(STUDENT_REPORT, {\n        variables: { studentCode: slug },\n        onCompleted: data => {\n            setData(data.studentReport);\n        }\n    });\n\n    if (error && error.message === 'Student matching query does not exist.') {\n        return(\n            <Result \n                status=\"404\"\n                title=\"Илэрц олдсонгүй\"\n                subTitle=\"Уг суралцагч олдсонгүй\"\n            />\n        )\n    }\n\n    if (loading) {\n        return <Loading cover='content' />\n    }\n\n\treturn (\n        <Card \n            style={{ fontFamily: 'Times New Roman', lineHeight: `17px`, color: 'black' }} \n            className=\"aaa\" \n            bordered={false}\n        >\n            <Row gutter={[16, 16]}>\n                <Col span={8} className='text-right' >\n                    <Image\n                        style={{ maxHeight: '100px' }}\n                        src='/img/logo-white.png' \n                        preview={false}\n                    />\n                </Col>\n                <Col span={8} >\n                    <div className='text-center' >\n                        <b style={{ fontSize: '32px' }} >{data.school}</b>\n                        <div className='text-center mt-3' style={{ fontSize: '11px', lineHeight: `10px` }} dangerouslySetInnerHTML={{ __html: data.textTop }} />\n                    </div>\n                </Col>\n                <Col span={8} className='text-left'>\n                    <Image\n                        style={{ maxHeight: '100px'}}\n                        src={REPORT_IMAGE_URL+data.studentPhoto} \n                        preview={false}\n                    />\n                </Col>\n            </Row>\n            <Divider />\n            <Row>\n                <Col span={24} className='text-center' >\n                    <b >Суралцагчийн тодорхойлолт</b>\n                    <div style={{ fontSize: '15px' }} dangerouslySetInnerHTML={{ __html: data.textMid }} />\n                </Col>\n            </Row>\n            <Divider />\n            <Row gutter={[16, 16]}>\n                <Col span={24}>\n                    <div className='text-center' dangerouslySetInnerHTML={{ __html: data.textBottom }} />\n                </Col>\n            </Row>\n            <Row>\n                <Col span={24} className='text-center'>\n                    <Image \n                        src={`https://chart.googleapis.com/chart?chs=177x177&cht=qr&chl=http%3A%2F%2F${window.location.hostname}%2Fstudent-report%2F${data.studentCode}&chld=H&choe=UTF-8`} \n                        preview={false}\n                    />\n                </Col>\n            </Row>\n        </Card>\n\t)\n}\n\nexport default StudentReport\n"],"names":["REPORT_IMAGE_URL","STUDENT_REPORT","gql","STUDENT_REPORT_SECTION","ALL_STUDENTS_REPORT","slug","useParams","useState","data","setData","useQuery","variables","studentCode","onCompleted","studentReport","loading","error","message","status","title","subTitle","cover","style","fontFamily","lineHeight","color","className","bordered","gutter","span","maxHeight","src","preview","fontSize","school","dangerouslySetInnerHTML","__html","textTop","studentPhoto","textMid","textBottom","window","location","hostname"],"sourceRoot":""}