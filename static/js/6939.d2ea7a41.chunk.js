"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[6939],{68470:function(e,t,n){n(72791);var a=n(80184),r=function(e){var t=e.children,n=e.className,r=e.alignItems,c=e.justifyContent,o=e.mobileFlex,i=e.flexDirection;return(0,a.jsx)("div",{className:"".concat(o?"d-flex":"d-md-flex"," ").concat(n," ").concat(i?"flex-"+i:""," ").concat(r?"align-items-"+r:""," ").concat(c?"justify-content-"+c:""),children:t})};r.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},t.Z=r},27308:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(29439),r=n(72791),c=n(66871),o=n(87309),i=n(71381),l=n(53834),d=n(64880),s=n(68470),u=n(82630),m=n(80184),f=function(e){var t=e.loading,n=e.columns,a=e.list,r=(0,d.k6)();return(0,m.jsxs)(c.Z,{children:[(0,m.jsx)(s.Z,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:(0,m.jsx)(s.Z,{mobileFlex:!1,children:(0,m.jsx)("div",{className:"text-right",children:(0,m.jsxs)(o.Z,{onClick:function(){return r.goBack()},type:"default",icon:(0,m.jsx)(l.Z,{}),block:!0,children:[" ",(0,m.jsx)(u.Z,{id:"back"})]})})})}),(0,m.jsx)(i.Z,{pagination:!1,className:"mt-4",loading:t,size:"small",columns:n,dataSource:a,rowKey:"name",bordered:!0})]})},v=n(96578),p=n(86586),h=n(84376),b=n(48936),g=n(50419),y=n(32014),Z=function(e){var t=(0,d.TH)(),n=(0,r.useState)([]),c=(0,a.Z)(n,2),o=c[0],i=c[1],l=(0,r.useState)([]),s=(0,a.Z)(l,2),u=s[0],Z=s[1],x=(0,r.useState)(!0),E=(0,a.Z)(x,2),C=E[0],N=E[1],w=(0,r.useState)([]),k=(0,a.Z)(w,2),O=k[0],j=k[1],P=(0,v.a)(b._I,{onCompleted:function(e){i(e.permissions)}}).loading,I=(0,p.t)(b.O7,{fetchPolicy:"network-only",onCompleted:function(e){Z(e.groupPermissions)}}),S=(0,a.Z)(I,2),_=S[0],D=S[1].loading,M=(0,p.t)(b.I6,{onError:function(e){N(!1)},fetchPolicy:"network-only",onCompleted:function(e){j(e.customUserPermissions)}}),T=(0,a.Z)(M,2),K=T[0],R=T[1],z=R.loading,B=R.refetch,F=(0,h.D)(b.eV,{onCompleted:function(e){B(),g.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430")}}),L=(0,a.Z)(F,2),A=L[0],H=L[1].loading;(0,r.useEffect)((function(){t.state&&(_({variables:{userId:t.state.user}}),K({variables:{userId:t.state.user}}))}),[_,K,t.state]),(0,r.useEffect)((function(){(P||D||H||z)&&N(!0),P||D||H||z||N(!1)}),[P,D,H,z]);var V=[{key:"name",title:"\u041d\u044d\u0440",dataIndex:"name"},{key:"add",title:"\u041d\u044d\u043c\u044d\u0445",dataIndex:"add",render:function(e,t){return t.add&&(0,m.jsx)(y.Z,{onChange:function(e){return W(e,"add_".concat(t.codeName))},checked:G("add_".concat(t.codeName)).isChecked,disabled:G("add_".concat(t.codeName)).isDisabled})}},{key:"change",title:"\u0417\u0430\u0441\u0430\u0445",dataIndex:"change",render:function(e,t){return t.change&&(0,m.jsx)(y.Z,{onChange:function(e){return W(e,"change_".concat(t.codeName))},checked:G("change_".concat(t.codeName)).isChecked,disabled:G("change_".concat(t.codeName)).isDisabled})}},{key:"delete",title:"\u0423\u0441\u0442\u0433\u0430\u0445",dataIndex:"delete",render:function(e,t){return t.delete&&(0,m.jsx)(y.Z,{onChange:function(e){return W(e,"delete_".concat(t.codeName))},checked:G("delete_".concat(t.codeName)).isChecked,disabled:G("delete_".concat(t.codeName)).isDisabled})}},{key:"view",title:"\u0425\u0430\u0440\u0430\u0445",dataIndex:"view",render:function(e,t){return t.view&&(0,m.jsx)(y.Z,{onChange:function(e){return W(e,"view_".concat(t.codeName))},checked:G("view_".concat(t.codeName)).isChecked,disabled:G("view_".concat(t.codeName)).isDisabled})}}],W=function(e,n){A({variables:{action:e.target.checked,codename:n,teacherCode:t.state.teacherCode}})},G=function(e){var t=u.some((function(t){return t.codename===e})),n=O.some((function(t){return t.codename===e}));return{isDisabled:t,isChecked:t||n}};return t.state?(0,m.jsx)(f,{list:o,columns:V,loading:C}):null}},37295:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(1413),r=n(72791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},o=n(8711),i=function(e,t){return r.createElement(o.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:c}))};i.displayName="DownOutlined";var l=r.forwardRef(i)},53834:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(1413),r=n(72791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},o=n(8711),i=function(e,t){return r.createElement(o.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:c}))};i.displayName="RollbackOutlined";var l=r.forwardRef(i)},19581:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(29439),r=n(72791);function c(){var e=r.useReducer((function(e){return e+1}),0);return(0,a.Z)(e,2)[1]}},66871:function(e,t,n){n.d(t,{Z:function(){return Z}});var a=n(4942),r=n(87462),c=n(72791),o=n(81694),i=n.n(o),l=n(41818),d=n(69077),s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},u=function(e){var t=e.prefixCls,n=e.className,o=e.hoverable,l=void 0===o||o,u=s(e,["prefixCls","className","hoverable"]);return c.createElement(d.C,null,(function(e){var o=(0,e.getPrefixCls)("card",t),d=i()("".concat(o,"-grid"),n,(0,a.Z)({},"".concat(o,"-grid-hoverable"),l));return c.createElement("div",(0,r.Z)({},u,{className:d}))}))},m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},f=function(e){return c.createElement(d.C,null,(function(t){var n=t.getPrefixCls,a=e.prefixCls,o=e.className,l=e.avatar,d=e.title,s=e.description,u=m(e,["prefixCls","className","avatar","title","description"]),f=n("card",a),v=i()("".concat(f,"-meta"),o),p=l?c.createElement("div",{className:"".concat(f,"-meta-avatar")},l):null,h=d?c.createElement("div",{className:"".concat(f,"-meta-title")},d):null,b=s?c.createElement("div",{className:"".concat(f,"-meta-description")},s):null,g=h||b?c.createElement("div",{className:"".concat(f,"-meta-detail")},h,b):null;return c.createElement("div",(0,r.Z)({},u,{className:v}),p,g)}))},v=n(3323),p=n(66106),h=n(30914),b=n(1815),g=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};var y=function(e){var t,n,o,s=c.useContext(d.E_),m=s.getPrefixCls,f=s.direction,y=c.useContext(b.Z),Z=e.prefixCls,x=e.className,E=e.extra,C=e.headStyle,N=void 0===C?{}:C,w=e.bodyStyle,k=void 0===w?{}:w,O=e.title,j=e.loading,P=e.bordered,I=void 0===P||P,S=e.size,_=e.type,D=e.cover,M=e.actions,T=e.tabList,K=e.children,R=e.activeTabKey,z=e.defaultActiveTabKey,B=e.tabBarExtraContent,F=e.hoverable,L=e.tabProps,A=void 0===L?{}:L,H=g(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),V=m("card",Z),W=0===k.padding||"0px"===k.padding?{padding:24}:void 0,G=c.createElement("div",{className:"".concat(V,"-loading-block")}),J=c.createElement("div",{className:"".concat(V,"-loading-content"),style:W},c.createElement(p.Z,{gutter:8},c.createElement(h.Z,{span:22},G)),c.createElement(p.Z,{gutter:8},c.createElement(h.Z,{span:8},G),c.createElement(h.Z,{span:15},G)),c.createElement(p.Z,{gutter:8},c.createElement(h.Z,{span:6},G),c.createElement(h.Z,{span:18},G)),c.createElement(p.Z,{gutter:8},c.createElement(h.Z,{span:13},G),c.createElement(h.Z,{span:9},G)),c.createElement(p.Z,{gutter:8},c.createElement(h.Z,{span:4},G),c.createElement(h.Z,{span:3},G),c.createElement(h.Z,{span:16},G))),Q=void 0!==R,U=(0,r.Z)((0,r.Z)({},A),(t={},(0,a.Z)(t,Q?"activeKey":"defaultActiveKey",Q?R:z),(0,a.Z)(t,"tabBarExtraContent",B),t)),$=T&&T.length?c.createElement(v.Z,(0,r.Z)({size:"large"},U,{className:"".concat(V,"-head-tabs"),onChange:function(t){var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)}}),T.map((function(e){return c.createElement(v.Z.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(O||E||$)&&(o=c.createElement("div",{className:"".concat(V,"-head"),style:N},c.createElement("div",{className:"".concat(V,"-head-wrapper")},O&&c.createElement("div",{className:"".concat(V,"-head-title")},O),E&&c.createElement("div",{className:"".concat(V,"-extra")},E)),$));var q=D?c.createElement("div",{className:"".concat(V,"-cover")},D):null,X=c.createElement("div",{className:"".concat(V,"-body"),style:k},j?J:K),Y=M&&M.length?c.createElement("ul",{className:"".concat(V,"-actions")},function(e){return e.map((function(t,n){return c.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},c.createElement("span",null,t))}))}(M)):null,ee=(0,l.Z)(H,["onTabChange"]),te=S||y,ne=i()(V,(n={},(0,a.Z)(n,"".concat(V,"-loading"),j),(0,a.Z)(n,"".concat(V,"-bordered"),I),(0,a.Z)(n,"".concat(V,"-hoverable"),F),(0,a.Z)(n,"".concat(V,"-contain-grid"),function(){var t;return c.Children.forEach(e.children,(function(e){e&&e.type&&e.type===u&&(t=!0)})),t}()),(0,a.Z)(n,"".concat(V,"-contain-tabs"),T&&T.length),(0,a.Z)(n,"".concat(V,"-").concat(te),te),(0,a.Z)(n,"".concat(V,"-type-").concat(_),!!_),(0,a.Z)(n,"".concat(V,"-rtl"),"rtl"===f),n),x);return c.createElement("div",(0,r.Z)({},ee,{className:ne}),o,q,X,Y)};y.Grid=u,y.Meta=f;var Z=y},69025:function(e,t,n){var a;function r(e){if("undefined"===typeof document)return 0;if(e||void 0===a){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var c=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;c===o&&(o=n.clientWidth),document.body.removeChild(n),a=c-o}return a}function c(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?r():n}function o(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,a=t.height;return{width:c(n),height:c(a)}}n.d(t,{Z:function(){return r},o:function(){return o}})},84376:function(e,t,n){n.d(t,{D:function(){return s}});var a=n(3431),r=n(72791),c=n(63124),o=n(5970),i=n(72364),l=n(29484),d=n(65046);function s(e,t){var n=(0,d.x)(null===t||void 0===t?void 0:t.client);(0,i.Vp)(e,i.n_.Mutation);var s=(0,r.useState)({called:!1,loading:!1,client:n}),u=s[0],m=s[1],f=(0,r.useRef)({result:u,mutationId:0,isMounted:!0,client:n,mutation:e,options:t});Object.assign(f.current,{client:n,options:t,mutation:e});var v=(0,r.useCallback)((function(e){void 0===e&&(e={});var t=f.current,n=t.client,r=t.options,i=t.mutation,d=(0,a.pi)((0,a.pi)({},r),{mutation:i});f.current.result.loading||d.ignoreResults||!f.current.isMounted||m(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:n});var s=++f.current.mutationId,u=(0,c.J)(d,e);return n.mutate(u).then((function(t){var a,r,c,i=t.data,d=t.errors,v=d&&d.length>0?new l.c({graphQLErrors:d}):void 0;if(s===f.current.mutationId&&!u.ignoreResults){var p={called:!0,loading:!1,data:i,error:v,client:n};f.current.isMounted&&!(0,o.D)(f.current.result,p)&&m(f.current.result=p)}return null===(r=null===(a=f.current.options)||void 0===a?void 0:a.onCompleted)||void 0===r||r.call(a,t.data,u),null===(c=e.onCompleted)||void 0===c||c.call(e,t.data,u),t})).catch((function(t){var a,r,c,i;if(s===f.current.mutationId&&f.current.isMounted){var l={loading:!1,error:t,data:void 0,called:!0,client:n};(0,o.D)(f.current.result,l)||m(f.current.result=l)}if((null===(a=f.current.options)||void 0===a?void 0:a.onError)||u.onError)return null===(c=null===(r=f.current.options)||void 0===r?void 0:r.onError)||void 0===c||c.call(r,t,u),null===(i=e.onError)||void 0===i||i.call(e,t,u),{data:void 0,errors:t};throw t}))}),[]),p=(0,r.useCallback)((function(){f.current.isMounted&&m({called:!1,loading:!1,client:n})}),[]);return(0,r.useEffect)((function(){return f.current.isMounted=!0,function(){f.current.isMounted=!1}}),[]),[v,(0,a.pi)({reset:p},u)]}}}]);
//# sourceMappingURL=6939.d2ea7a41.chunk.js.map