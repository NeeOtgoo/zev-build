"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[9683],{49696:function(e,t,n){var a=n(29439),r=n(72791),c=n(20003),l=n(80184),o=(0,r.forwardRef)((function(e,t){var n,o=e.children,i=e.title,s=e.footer,d=e.formName,m=void 0===d?"form":d,u=(0,r.useState)(!1),p=(0,a.Z)(u,2),f=p[0],h=p[1];return(0,r.useImperativeHandle)(t,(function(){return{handleOpen:function(){h(!0)},handleCancel:function(){h(!1)}}})),(0,l.jsx)(c.Z,{width:1e3,title:i,visible:f,onCancel:null===(n=t.current)||void 0===n?void 0:n.handleCancel,okText:"\u0425\u0430\u0434\u0433\u0430\u043b\u0430\u0445",footer:s,cancelText:"\u0411\u043e\u043b\u0438\u0445",okButtonProps:{form:m,key:"submit",htmlType:"submit"},children:o})}));t.Z=o},89683:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a,r,c=n(72791),l=n(96578),o=n(66871),i=n(31549),s=n(30168),d=n(27570),m=(0,d.Ps)(a||(a=(0,s.Z)(["\n    query allFoods {\n        allFoods {\n            id\n            name\n            time\n            day\n        }\n    }\n"]))),u=(0,d.Ps)(r||(r=(0,s.Z)(["\n    mutation createOrUpdateFood (\n        $day: String\n        $name: String\n        $time: Time\n    ){\n        createOrUpdateFood (\n            day: $day\n            name: $name\n            time: $time\n        ) {\n            food {\n                id\n            }\n        }\n    }\n"]))),p=n(29439),f=n(22949),h=n(73332),y=n(50419),v=n(37083),x=n(49389),b=n(82630),Z=n(84376),g=n(80184),j=f.Z.Option;var E=function(e){var t=e.closeModal,n=h.Z.useForm(),a=(0,p.Z)(n,1)[0],r=(0,Z.D)(u,{refetchQueries:[{query:m}],onCompleted:function(e){t(),a.resetFields(),y.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430")}}),c=(0,p.Z)(r,2),l=c[0],o=c[1].loading;return(0,g.jsx)(v.Z,{spinning:o,tip:"\u0410\u0447\u0430\u0430\u043b\u043b\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...",children:(0,g.jsxs)(h.Z,{id:"form",layout:"vertical",form:a,name:"form",onFinish:function(e){l({variables:e})},children:[(0,g.jsx)(h.Z.Item,{name:"name",label:(0,g.jsx)(b.Z,{id:"name"}),rules:[{required:!0,message:(0,g.jsx)(b.Z,{id:"form.required"})}],children:(0,g.jsx)(x.Z,{})}),(0,g.jsx)(h.Z.Item,{name:"day",label:(0,g.jsx)(b.Z,{id:"day"}),rules:[{required:!0,message:(0,g.jsx)(b.Z,{id:"form.required"})}],children:(0,g.jsx)(f.Z,{children:[{mn:"\u0414\u0430\u0432\u0430\u0430",en:"Monday"},{mn:"\u041c\u044f\u0433\u043c\u0430\u0440",en:"Tuesday"},{mn:"\u041b\u0445\u0430\u0433\u0432\u0430",en:"Wednesday"},{mn:"\u041f\u04af\u0440\u044d\u0432",en:"Thursday"},{mn:"\u0411\u0430\u0430\u0441\u0430\u043d",en:"Friday"}].map((function(e,t){return(0,g.jsx)(j,{value:e.en,children:e.mn},t)}))})}),(0,g.jsx)(h.Z.Item,{name:"time",label:(0,g.jsx)(b.Z,{id:"time"}),rules:[{required:!0,message:(0,g.jsx)(b.Z,{id:"form.required"})}],children:(0,g.jsx)(f.Z,{children:["09:30","11:00","12:30","16:30","17:30"].map((function(e,t){return(0,g.jsx)(j,{value:e+":00",children:e},t)}))})})]})})},N=n(49696),O=n(72426),C=n.n(O),w=n(38937),P=n(59288),k=function(){var e={change_food:(0,P.C)("change_food")},t=(0,c.useRef)();var n=(0,l.a)(m),a=n.data,r=n.loading,s=["Monday","Tuesday","Wednesday","Thursday","Friday"];function d(e,t){return a.allFoods.find((function(n){return n.day===t&&C()(e+":00","HH:mm:ss").format("hh:mm")===C()(n.time,"HH:mm:ss").format("hh:mm")}))}return r?(0,g.jsx)(w.Z,{cover:"content"}):(0,g.jsxs)(g.Fragment,{children:[e.change_food&&(0,g.jsx)(N.Z,{ref:t,children:(0,g.jsx)(E,{closeModal:function(){t.current.handleCancel()}})}),(0,g.jsx)(o.Z,{title:"\u0425\u043e\u043e\u043b\u043d\u044b \u0446\u044d\u0441",extra:e.change_food&&(0,g.jsx)(i.Z,{type:"primary",onClick:function(){t.current.handleOpen()}}),children:(0,g.jsx)("div",{className:"relative overflow-x-auto",children:(0,g.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,g.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\u0426\u0430\u0433"}),(0,g.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\u0414\u0430\u0432\u0430\u0430"}),(0,g.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\u041c\u044f\u0433\u043c\u0430\u0440"}),(0,g.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\u041b\u0445\u0430\u0433\u0432\u0430"}),(0,g.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\u041f\u04af\u0440\u044d\u0432"}),(0,g.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\u0411\u0430\u0430\u0441\u0430\u043d"})]})}),(0,g.jsx)("tbody",{children:["09:30","11:00","12:30","16:30","17:30"].map((function(e){return(0,g.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[(0,g.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e}),s.map((function(t){var n;return(0,g.jsx)("td",{className:"px-6 py-4",children:null===(n=d(e,t))||void 0===n?void 0:n.name},t)}))]},e)}))})]})})})]})}},31549:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(1413),r=n(72791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},l=n(8711),o=function(e,t){return r.createElement(l.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:c}))};o.displayName="PlusCircleOutlined";var i=r.forwardRef(o)},66871:function(e,t,n){n.d(t,{Z:function(){return Z}});var a=n(4942),r=n(87462),c=n(72791),l=n(81694),o=n.n(l),i=n(41818),s=n(69077),d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},m=function(e){var t=e.prefixCls,n=e.className,l=e.hoverable,i=void 0===l||l,m=d(e,["prefixCls","className","hoverable"]);return c.createElement(s.C,null,(function(e){var l=(0,e.getPrefixCls)("card",t),s=o()("".concat(l,"-grid"),n,(0,a.Z)({},"".concat(l,"-grid-hoverable"),i));return c.createElement("div",(0,r.Z)({},m,{className:s}))}))},u=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},p=function(e){return c.createElement(s.C,null,(function(t){var n=t.getPrefixCls,a=e.prefixCls,l=e.className,i=e.avatar,s=e.title,d=e.description,m=u(e,["prefixCls","className","avatar","title","description"]),p=n("card",a),f=o()("".concat(p,"-meta"),l),h=i?c.createElement("div",{className:"".concat(p,"-meta-avatar")},i):null,y=s?c.createElement("div",{className:"".concat(p,"-meta-title")},s):null,v=d?c.createElement("div",{className:"".concat(p,"-meta-description")},d):null,x=y||v?c.createElement("div",{className:"".concat(p,"-meta-detail")},y,v):null;return c.createElement("div",(0,r.Z)({},m,{className:f}),h,x)}))},f=n(3323),h=n(66106),y=n(30914),v=n(1815),x=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};var b=function(e){var t,n,l,d=c.useContext(s.E_),u=d.getPrefixCls,p=d.direction,b=c.useContext(v.Z),Z=e.prefixCls,g=e.className,j=e.extra,E=e.headStyle,N=void 0===E?{}:E,O=e.bodyStyle,C=void 0===O?{}:O,w=e.title,P=e.loading,k=e.bordered,T=void 0===k||k,S=e.size,F=e.type,q=e.cover,H=e.actions,I=e.tabList,M=e.children,z=e.activeTabKey,K=e.defaultActiveTabKey,$=e.tabBarExtraContent,B=e.hoverable,_=e.tabProps,A=void 0===_?{}:_,R=x(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),L=u("card",Z),U=0===C.padding||"0px"===C.padding?{padding:24}:void 0,V=c.createElement("div",{className:"".concat(L,"-loading-block")}),W=c.createElement("div",{className:"".concat(L,"-loading-content"),style:U},c.createElement(h.Z,{gutter:8},c.createElement(y.Z,{span:22},V)),c.createElement(h.Z,{gutter:8},c.createElement(y.Z,{span:8},V),c.createElement(y.Z,{span:15},V)),c.createElement(h.Z,{gutter:8},c.createElement(y.Z,{span:6},V),c.createElement(y.Z,{span:18},V)),c.createElement(h.Z,{gutter:8},c.createElement(y.Z,{span:13},V),c.createElement(y.Z,{span:9},V)),c.createElement(h.Z,{gutter:8},c.createElement(y.Z,{span:4},V),c.createElement(y.Z,{span:3},V),c.createElement(y.Z,{span:16},V))),D=void 0!==z,G=(0,r.Z)((0,r.Z)({},A),(t={},(0,a.Z)(t,D?"activeKey":"defaultActiveKey",D?z:K),(0,a.Z)(t,"tabBarExtraContent",$),t)),Q=I&&I.length?c.createElement(f.Z,(0,r.Z)({size:"large"},G,{className:"".concat(L,"-head-tabs"),onChange:function(t){var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)}}),I.map((function(e){return c.createElement(f.Z.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(w||j||Q)&&(l=c.createElement("div",{className:"".concat(L,"-head"),style:N},c.createElement("div",{className:"".concat(L,"-head-wrapper")},w&&c.createElement("div",{className:"".concat(L,"-head-title")},w),j&&c.createElement("div",{className:"".concat(L,"-extra")},j)),Q));var J=q?c.createElement("div",{className:"".concat(L,"-cover")},q):null,X=c.createElement("div",{className:"".concat(L,"-body"),style:C},P?W:M),Y=H&&H.length?c.createElement("ul",{className:"".concat(L,"-actions")},function(e){return e.map((function(t,n){return c.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},c.createElement("span",null,t))}))}(H)):null,ee=(0,i.Z)(R,["onTabChange"]),te=S||b,ne=o()(L,(n={},(0,a.Z)(n,"".concat(L,"-loading"),P),(0,a.Z)(n,"".concat(L,"-bordered"),T),(0,a.Z)(n,"".concat(L,"-hoverable"),B),(0,a.Z)(n,"".concat(L,"-contain-grid"),function(){var t;return c.Children.forEach(e.children,(function(e){e&&e.type&&e.type===m&&(t=!0)})),t}()),(0,a.Z)(n,"".concat(L,"-contain-tabs"),I&&I.length),(0,a.Z)(n,"".concat(L,"-").concat(te),te),(0,a.Z)(n,"".concat(L,"-type-").concat(F),!!F),(0,a.Z)(n,"".concat(L,"-rtl"),"rtl"===p),n),g);return c.createElement("div",(0,r.Z)({},ee,{className:ne}),l,J,X,Y)};b.Grid=m,b.Meta=p;var Z=b}}]);
//# sourceMappingURL=9683.6956e6c2.chunk.js.map