"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[2973],{74021:function(n,e,t){var r=t(29439),i=t(72791),a=t(66871),s=t(49389),o=t(87309),c=t(71381),u=t(11730),l=t(31549),d=t(82630),m=t(68470),$=t(80184);e.Z=function(n){var e=n.fetchData,t=n.loading,S=n.columns,h=n.data,g=n.permissions,f=n.showModal,p=(0,i.useState)(""),y=(0,r.Z)(p,2),Z=(y[0],y[1]);return(0,$.jsxs)(a.Z,{children:[(0,$.jsxs)(m.Z,{alignItems:"center",justifyContent:"between",mobileFlex:!1,children:[(0,$.jsx)(m.Z,{className:"mb-1",mobileFlex:!1,children:(0,$.jsx)("div",{className:"mr-md-3 mb-3",children:(0,$.jsx)(s.Z,{placeholder:"\u0425\u0430\u0439\u0445",prefix:(0,$.jsx)(u.Z,{}),onChange:function(n){return function(n){var t=n.currentTarget.value;e({variables:{offset:0,limit:10,filter:t,program:0}}),Z(t)}(n)}})})}),!0===g.create&&(0,$.jsx)("div",{className:"mr-md-3 mb-3",children:(0,$.jsxs)(o.Z,{onClick:f,type:"primary",icon:(0,$.jsx)(l.Z,{}),block:!0,children:[" ",(0,$.jsx)(d.Z,{id:"add_new"})]})})]}),(0,$.jsx)("div",{className:"table-responsive",children:(0,$.jsx)(c.Z,{size:"small",columns:S,dataSource:h,rowKey:"id",bordered:!0,loading:t})})]})}},68470:function(n,e,t){t(72791);var r=t(80184),i=function(n){var e=n.children,t=n.className,i=n.alignItems,a=n.justifyContent,s=n.mobileFlex,o=n.flexDirection;return(0,r.jsx)("div",{className:"".concat(s?"d-flex":"d-md-flex"," ").concat(t," ").concat(o?"flex-"+o:""," ").concat(i?"align-items-"+i:""," ").concat(a?"justify-content-"+a:""),children:e})};i.defaultProps={mobileFlex:!0,flexDirection:"row",className:""},e.Z=i},7378:function(n,e,t){t.d(e,{$5:function(){return O},$Z:function(){return sn},Cz:function(){return z},DQ:function(){return W},Ds:function(){return L},KB:function(){return F},LW:function(){return en},ME:function(){return on},N0:function(){return Y},Os:function(){return R},P_:function(){return rn},TQ:function(){return G},Ts:function(){return cn},UI:function(){return J},Ui:function(){return nn},WO:function(){return Q},WV:function(){return _},XJ:function(){return an},YV:function(){return tn},gi:function(){return V},jm:function(){return ln},l4:function(){return K},m1:function(){return B},qG:function(){return U},rP:function(){return un},re:function(){return H},w9:function(){return X},wZ:function(){return A}});var r,i,a,s,o,c,u,l,d,m,$,S,h,g,f,p,y,Z,b,x,j,I,v,D,P,C,T,N,w,E,k,M=t(30168),q=t(27570),A=(0,q.Ps)(r||(r=(0,M.Z)(["\n  \tquery allDegrees {\n        allDegrees {\n            id\n            name\n        }\n\t}\n"]))),F=(0,q.Ps)(i||(i=(0,M.Z)(["\n    mutation createDegree($name: String) {\n      createDegree(name: $name) {\n        degree {\n          id\n          name\n        }\n      }\n    }\n"]))),B=(0,q.Ps)(a||(a=(0,M.Z)(["\n    mutation updateDegree ($id: ID, $name: String) {\n        updateDegree (id: $id, name: $name) {\n            degree {\n                id\n                name\n            }\n        }\n    }\n"]))),z=(0,q.Ps)(s||(s=(0,M.Z)(["\n    mutation deleteDegree($id: ID!){\n        deleteDegree(id: $id){\n            degree{\n                name\n            }\n        }\n    }\n"]))),O=(0,q.Ps)(o||(o=(0,M.Z)(["\n  \tquery allActivitys {\n        allActivitys {\n            id\n            name\n        }\n\t}\n"]))),R=(0,q.Ps)(c||(c=(0,M.Z)(["\n    mutation createActivity($name: String) {\n      createActivity(name: $name) {\n        activity {\n          id\n          name\n        }\n      }\n    }\n"]))),_=(0,q.Ps)(u||(u=(0,M.Z)(["\n    mutation updateActivity ($id: ID, $name: String) {\n        updateActivity (id: $id, name: $name) {\n            activity {\n                name\n            }\n        }\n    }\n"]))),V=(0,q.Ps)(l||(l=(0,M.Z)(["\n    mutation deleteActivity($id: ID!){\n        deleteActivity(id: $id){\n            activity{\n                name\n            }\n        }\n    }\n"]))),L=(0,q.Ps)(d||(d=(0,M.Z)(["\n    query allStudentStatuss {\n        allStudentStatuss {\n            id\n            name\n        }\n    }\n"]))),Q=(0,q.Ps)(m||(m=(0,M.Z)(["\n    mutation createStudentStatus($name: String) {\n        createStudentStatus(name: $name) {\n            studentStatus {\n                id\n                name\n            }\n        }\n    }\n"]))),J=(0,q.Ps)($||($=(0,M.Z)(["\n    mutation updateStudentStatus ($id: ID, $name: String) {\n        updateStudentStatus (id: $id, name: $name) {\n            studentStatus {\n                id\n                name\n            }\n        }\n    }\n"]))),U=(0,q.Ps)(S||(S=(0,M.Z)(["\n    mutation deleteStudentStatus ($id: ID) {\n        deleteStudentStatus (id: $id) {\n            studentStatus {\n                name\n            }\n        }\n    }\n"]))),X=(0,q.Ps)(h||(h=(0,M.Z)(["\n    query allStudentStatusExtras {\n        allStudentStatusExtras {\n            id\n            name\n        }\n    }\n"]))),G=(0,q.Ps)(g||(g=(0,M.Z)(["\n    mutation createStudentStatusExtra($name: String) {\n        createStudentStatusExtra(name: $name) {\n            studentStatusExtra {\n                id\n                name\n            }\n        }\n    }\n"]))),W=(0,q.Ps)(f||(f=(0,M.Z)(["\n    mutation updateStudentStatusExtra ($id: ID, $name: String) {\n        updateStudentStatusExtra (id: $id, name: $name) {\n            studentStatusExtra {\n                id\n                name\n            }\n        }\n    }\n"]))),H=(0,q.Ps)(p||(p=(0,M.Z)(["\n    mutation deleteStudentStatusExtra ($id: ID) {\n        deleteStudentStatusExtra (id: $id) {\n            studentStatusExtra {\n                name\n            }\n        }\n    }\n"]))),K=(0,q.Ps)(y||(y=(0,M.Z)(["\n    query allTeacherStatuss {\n        allTeacherStatuss {\n            id\n            name\n        }\n    }\n"]))),Y=(0,q.Ps)(Z||(Z=(0,M.Z)(["\n    mutation createTeacherStatus($name: String) {\n        createTeacherStatus(name: $name) {\n            teacherStatus {\n                id\n                name\n            }\n        }\n    }\n"]))),nn=(0,q.Ps)(b||(b=(0,M.Z)(["\n    mutation updateTeacherStatus ($id: ID, $name: String) {\n        updateTeacherStatus (id: $id, name: $name) {\n            teacherStatus {\n                id\n                name\n            }\n        }\n    }\n"]))),en=(0,q.Ps)(x||(x=(0,M.Z)(["\n    mutation deleteTeacherStatus ($id: ID) {\n        deleteTeacherStatus (id: $id) {\n            teacherStatus {\n                name\n            }\n        }\n    }\n"]))),tn=(0,q.Ps)(j||(j=(0,M.Z)(["\n    query allClasstimes {\n        allClasstimes {\n            id\n            name\n        }\n    }\n"]))),rn=(0,q.Ps)(I||(I=(0,M.Z)(["\n    mutation createClasstime($name: String) {\n        createClasstime(name: $name) {\n            classtime {\n                id\n                name\n            }\n        }\n    }\n"]))),an=(0,q.Ps)(v||(v=(0,M.Z)(["\n    mutation updateClasstime ($id: ID, $name: String) {\n        updateClasstime (id: $id, name: $name) {\n            classtime {\n                id\n                name\n            }\n        }\n    }\n"]))),sn=(0,q.Ps)(D||(D=(0,M.Z)(["\n    mutation deleteClasstime ($id: ID) {\n        deleteClasstime (id: $id) {\n            classtime {\n                name\n            }\n        }\n    }\n"]))),on=((0,q.Ps)(P||(P=(0,M.Z)(["\n    mutation createRoutine ($classes: Int, $endDate: Date, $program: Int, $room: String, $schoolyear: Int, $section: Int, $startDate: Date, \n                            $subject: Int, $teacher: Int, $time: String, $type: String, $weekly: Int) {\n        createRoutine (classes: $classes, endDate: $endDate, program: $program, room: $room, schoolyear: $schoolyear, section: $section, \n                        startDate: $startDate, subject: $subject, teacher: $teacher, time: $time, type: $type, weekly: $weekly) {\n            routine {\n                id\n            }\n        }\n    }\n"]))),(0,q.Ps)(C||(C=(0,M.Z)(["\n    query allMenus{\n        allMenus {\n            priority\n            key\n            path\n            title\n            icon\n            breadcrumb\n            subMenu\n            menuSet {\n                priority\n                key\n                path\n                title\n                icon\n                breadcrumb\n                subMenu\n            }\n        }\n    }\n"]))),(0,q.Ps)(T||(T=(0,M.Z)(["\n    mutation updateMenu($breadcrumb: Boolean, $icon: String, $id: ID, $priority: Int, $status: String, $submenu: Int) {\n        updateMenu (breadcrumb: $breadcrumb, icon: $icon, id: $id, priority: $priority, status: $status, submenu: $submenu) {\n            menu {\n                id\n            }\n        }\n    }\n"]))),(0,q.Ps)(N||(N=(0,M.Z)(["\n    query allSchoolyears {\n        allSchoolyears {\n            id\n            schoolyear\n            startDate\n            endDate\n            isCurrent\n        }\n    }\n"])))),cn=(0,q.Ps)(w||(w=(0,M.Z)(["\n    mutation createSchoolyear ($endDate: String, $schoolyear: String, $startDate: String, $isCurrent: Boolean) {\n        createSchoolyear (endDate: $endDate, schoolyear: $schoolyear, startDate: $startDate, isCurrent: $isCurrent) {\n            schoolyear {\n                schoolyear\n            }\n        }\n    }\n"]))),un=(0,q.Ps)(E||(E=(0,M.Z)(["\n    mutation updateSchoolyear ($endDate: String, $id: ID, $schoolyear: String, $startDate: String, $isCurrent: Boolean) {\n        updateSchoolyear (endDate: $endDate, id: $id, schoolyear: $schoolyear, startDate: $startDate, isCurrent: $isCurrent) {\n            schoolyear {\n                schoolyear\n            }\n        }\n    }\n"]))),ln=(0,q.Ps)(k||(k=(0,M.Z)(["\n    mutation deleteSchoolyear ($id: ID) {\n        deleteSchoolyear (id: $id) {\n            schoolyear {\n                schoolyear\n            }\n        }\n    }\n"])))},20077:function(n,e,t){t.d(e,{Di:function(){return Z},Gn:function(){return w},IR:function(){return D},JO:function(){return x},LZ:function(){return j},Lp:function(){return C},Mo:function(){return T},OM:function(){return P},Q7:function(){return v},Qe:function(){return b},SX:function(){return N},vm:function(){return I}});var r,i,a,s,o,c,u,l,d,m,$,S,h,g,f,p=t(30168),y=t(27570),Z=(0,y.Ps)(r||(r=(0,p.Z)(["\n    mutation createSchool($name: String, $nameMgl: String) {\n      createSchool(name: $name, nameMgl: $nameMgl) {\n        school {\n          id\n          name\n          nameMgl\n        }\n      }\n    }\n"]))),b=(0,y.Ps)(i||(i=(0,p.Z)(["\n    mutation createSubSchool($name: String, $nameMgl: String, $school: Int!){\n      createSubSchool(name: $name, nameMgl: $nameMgl, school: $school) {\n        subSchool {\n          id\n          name\n          nameMgl \n          school {\n            id\n          }\n        }\n      }\n    }\n"]))),x=((0,y.Ps)(a||(a=(0,p.Z)(["\n    mutation register($email: String!, $username: String!, $isTeacher: Boolean!, $isStudent: Boolean!, $password1: String!, $password2: String!){\n      register(email: $email, username: $username, isTeacher: $isTeacher, isStudent: $isStudent, password1: $password1, password2: $password2) {\n          success\n          errors\n          token\n      } \n    }\n\n"]))),(0,y.Ps)(s||(s=(0,p.Z)(["\n    mutation createTeacher($address: String, $birthCity: Int, $birthDistrict: Int, $birthdate: String, $degree: Int,\n                            $familyName: String, $joinBefore: String, $joinDate: String, $name: String, $phone: String, $phone2: String,\n                            $registerNo: String, $school: Int, $sex: String, $status: Int, $subSchool: Int, $teacherCode: String!,\n                            $username: String!, $password: String!, $email: String!, $access: String!\n                            # $user: Int\n                            ) {\n      createTeacher(address: $address, birthCity: $birthCity, birthDistrict: $birthDistrict, birthdate: $birthdate, degree: $degree,\n                             familyName: $familyName, joinBefore: $joinBefore, joinDate: $joinDate, name: $name, phone: $phone, phone2: $phone2, \n                            registerNo: $registerNo, school: $school, sex: $sex, status: $status, subSchool: $subSchool, \n                            teacherCode: $teacherCode, access: $access,\n                            username: $username, password: $password, email: $email\n                            # user: $user \n                            ) {\n        teacher {\n          id\n        }\n      }\n    }\n"])))),j=(0,y.Ps)(o||(o=(0,p.Z)(["\n    mutation createEmployee(\n                $address: String\n                $birthCity: Int\n                $birthDistrict: Int\n                $birthdate: String\n                $email: String!\n                $employeeCode: String!\n                $familyName: String\n                $group: Int\n                $name: String\n                $password: String!\n                $phone: String\n                $phone2: String\n                $photo: Upload\n                $registerNo: String\n                $sex: String\n                $status: Int\n                $compartment: Int\n                $username: String!\n              ) {\n      createEmployee(\n                address: $address\n                birthCity: $birthCity\n                birthDistrict: $birthDistrict\n                birthdate: $birthdate\n                email: $email\n                employeeCode: $employeeCode\n                familyName: $familyName\n                group: $group\n                name: $name\n                password: $password\n                phone: $phone\n                phone2: $phone2\n                photo: $photo\n                compartment: $compartment\n                registerNo: $registerNo\n                sex: $sex\n                status: $status\n                username: $username\n          ) {\n          employee {\n          id\n        }\n      }\n    }\n"]))),I=(0,y.Ps)(c||(c=(0,p.Z)(['\n    mutation createStudent(\n      $activity: Int\n      $address: String\n      $allergies: String\n      $birthCity: Int\n      $birthDistrict: Int\n      $birthdate: String\n      $bloodType: String\n      $bodyIndex: String\n      $classes: Int\n      $classtime: Int\n      $drug: String\n      $etc: String\n      $familyName: String\n      $joinDate: String\n      $joinSchoolyear: String\n      $name: String\n      $nationality: String\n      $phone: String\n      $program: Int\n      $registerNo: String\n      $religion: String\n      $school: Int\n      $section: Int\n      $sex: String\n      $state: String\n      $status: Int\n      $statusExtra: Int\n      $surname: String\n      $underlyingDisease: String\n      $vaccine: String\n    ) {\n      createStudent(\n        activity: $activity\n        address: $address\n        allergies: $allergies\n        birthCity: $birthCity\n        birthDistrict: $birthDistrict\n        birthdate: $birthdate\n        bloodType: $bloodType\n        bodyIndex: $bodyIndex\n        classes: $classes\n        classtime: $classtime\n        drug: $drug\n        email: "dummy@dummy.com"\n        etc: $etc\n        familyName: $familyName\n        joinDate: $joinDate\n        joinSchoolyear: $joinSchoolyear\n        name: $name\n        nationality: $nationality\n        phone: $phone\n        program: $program\n        registerNo: $registerNo\n        religion: $religion\n        school: $school\n        section: $section\n        sex: $sex\n        state: $state\n        status: $status\n        statusExtra: $statusExtra\n        surname: $surname\n        underlyingDisease: $underlyingDisease\n        vaccine: $vaccine\n      ) {\n        student {\n          id\n        }\n      }\n    }\n']))),v=(0,y.Ps)(u||(u=(0,p.Z)(["\n  mutation createSection($classes: Int, $maxStudentNum: Int, $program: Int, $teacher: Int,  $school: Int, $section: String, $subSchool: Int) {\n    createSection(classes: $classes, program: $program, school: $school, section: $section, subSchool: $subSchool, maxStudentNum: $maxStudentNum, teacher: $teacher) {\n      section {\n        section\n      }\n    }\n  }\n"]))),D=(0,y.Ps)(l||(l=(0,p.Z)(["\n  mutation createClasses($activity: Int, $classes: String,\n                          $program: Int, $school: Int, $status: String, $subSchool: Int) {\n    createClasses(activity: $activity, classes: $classes,\n                  program: $program, school: $school, status: $status, subSchool: $subSchool) {\n      classes {\n        classes\n      }\n    }\n  }\n"]))),P=(0,y.Ps)(d||(d=(0,p.Z)(["\n    mutation createProgram($program: String, $programMgl: String,  \n                           $status: String, $maxStudentNum: Int, $school: Int, $subSchool: Int) {\n      createProgram(program: $program, programMgl: $programMgl,  \n                    status: $status, maxStudentNum: $maxStudentNum, school: $school, subSchool: $subSchool) {\n        program {\n          id\n        }\n      }\n    }\n"]))),C=(0,y.Ps)(m||(m=(0,p.Z)(["\n  mutation createSubject($credit: String, $subject: String, $content: String, $school: Int, $subSchool: Int) {\n    createSubject(credit: $credit, subject: $subject, school: $school, content: $content, subSchool: $subSchool) {\n      subject {\n        credit\n      }\n    }\n  }\n"]))),T=((0,y.Ps)($||($=(0,p.Z)(["\n  mutation createProgramSubject($program: Int, $subject: Int) {\n    createProgramSubject(program: $program, subject: $subject) {\n      programSubjectType {\n        id\n      }\n    }\n  }\n"]))),(0,y.Ps)(S||(S=(0,p.Z)(["\n  mutation createRoutineStudent ($routine: Int, $studentCode: String, $section: Int) {\n    createRoutineStudent (routine: $routine, studentCode: $studentCode, section: $section) {\n      routineStudent {\n        id\n      }\n    }\n  }\n"]))),(0,y.Ps)(h||(h=(0,p.Z)(["\n    mutation createParent ($address: String, $familyName: String, $name: String, $phone: String, $profession: String, $student: Int) {\n        createParent (address: $address, familyName: $familyName, name: $name, phone: $phone, profession: $profession, student: $student) {\n            parent {\n                name\n            }\n        }\n    }\n"])))),N=(0,y.Ps)(g||(g=(0,p.Z)(["\n    mutation createEventType ($color: String, $name: String) {\n        createEventType (color: $color, name: $name) {\n            eventType {\n                name\n            }\n        }\n    }\n"]))),w=(0,y.Ps)(f||(f=(0,p.Z)(["\n    mutation createEvent ($content: String, $description: String, $endAt: String, $eventType: Int, $startAt: String, $title: String) {\n        createEvent (content: $content, description: $description, endAt: $endAt, eventType: $eventType, startAt: $startAt, title: $title) {\n            event {\n                title\n            }\n        }\n    }\n"])))},64856:function(n,e,t){t.d(e,{DO:function(){return x},Fo:function(){return D},Jk:function(){return w},MI:function(){return C},NH:function(){return Z},Tu:function(){return b},Ug:function(){return N},Xj:function(){return v},dc:function(){return P},mL:function(){return j},tc:function(){return I},xB:function(){return T}});var r,i,a,s,o,c,u,l,d,m,$,S,h,g,f,p=t(30168),y=t(27570),Z=((0,y.Ps)(r||(r=(0,p.Z)(["\n    mutation deleteCity($id: ID!){\n        deleteCity(id: $id){\n            city{\n              name\n              code\n            }\n        }\n    }\n"]))),(0,y.Ps)(i||(i=(0,p.Z)(["\n    mutation deleteAccount($username: String) {\n        deleteAccount(username: $username) {\n            account {\n                username\n            }\n        }\n    }\n"]))),(0,y.Ps)(a||(a=(0,p.Z)(["\n    mutation deleteTeacher($id: ID!){\n      deleteTeacher(id: $id){\n            teacher{\n              name\n            }\n        }\n    }\n"])))),b=(0,y.Ps)(s||(s=(0,p.Z)(["\n  mutation deleteEmployee($id: ID){\n    deleteEmployee(id: $id){\n      employee{\n        name\n      }\n    }\n  }\n  "]))),x=(0,y.Ps)(o||(o=(0,p.Z)(["\n  mutation deleteSubject ($id: ID) {\n    deleteSubject (id: $id) {\n      subject {\n        credit\n      }\n    }\n  }\n"]))),j=(0,y.Ps)(c||(c=(0,p.Z)(["\n    mutation deleteStudent($id: ID!){\n      deleteStudent(id: $id){\n            student{\n              surname\n            }\n        }\n    }\n"]))),I=(0,y.Ps)(u||(u=(0,p.Z)(["\n  mutation deleteSubSchool($id: ID){\n    deleteSubSchool(id: $id){\n      subSchool{\n        name\n      }\n    }\n}\n"]))),v=(0,y.Ps)(l||(l=(0,p.Z)(["\n  mutation deleteSchool($id: ID!){\n    deleteSchool(id: $id){\n      school{\n        name\n      }\n    }\n}\n"]))),D=(0,y.Ps)(d||(d=(0,p.Z)(["\n  mutation deleteSection($id: ID){\n    deleteSection(id: $id){\n      section{\n        section\n      }\n    }\n}\n"]))),P=(0,y.Ps)(m||(m=(0,p.Z)(["\n  mutation deleteClasses($id: ID!){\n    deleteClasses(id: $id){\n      classes{\n        classes\n      }\n    }\n}\n"]))),C=(0,y.Ps)($||($=(0,p.Z)(["\n    mutation deleteProgram($id: ID!){\n        deleteProgram(id: $id){\n            program{\n                program\n            }\n        }\n    }\n"]))),T=((0,y.Ps)(S||(S=(0,p.Z)(["\n    mutation deleteRoutine ($id: ID) {\n        deleteRoutine (id: $id) {\n            routine {\n                createdAt\n            }\n        }\n    }\n"]))),(0,y.Ps)(h||(h=(0,p.Z)(["\n    mutation deleteParent ($id: ID) {\n        deleteParent (id: $id) {\n            parent {\n                name\n            }\n        }\n    }\n"])))),N=(0,y.Ps)(g||(g=(0,p.Z)(["\n    mutation deleteEventType ($id: ID) {\n        deleteEventType (id: $id) {\n            eventType {\n                name\n            }\n        }\n    }\n"]))),w=(0,y.Ps)(f||(f=(0,p.Z)(["\n    mutation deleteEvent ($id: ID) {\n        deleteEvent (id: $id) {\n            event {\n                title\n            }\n        }\n    }\n"])))},68694:function(n,e,t){t.d(e,{Cm:function(){return h},Cx:function(){return $},FQ:function(){return S},JX:function(){return m},dT:function(){return g},gt:function(){return p},tL:function(){return f}});var r,i,a,s,o,c,u,l=t(30168),d=t(27570),m=(0,d.Ps)(r||(r=(0,l.Z)(["\n    query allStudents ($filter: String) {\n        allStudents (filter: $filter) {\n            id\n            familyName\n            name\n            studentCode\n        }\n\t}\n"]))),$=(0,d.Ps)(i||(i=(0,l.Z)(["\n    query allTeachers ($filter: String) {\n        allTeachers (filter: $filter) {\n            id\n            familyName\n            name\n            teacherCode\n        }\n    }\n"]))),S=(0,d.Ps)(a||(a=(0,l.Z)(["\n    query allClassess ($filter: String, $program: Int) {\n        allClassess (filter: $filter, program: $program) {\n            id\n            classes\n        }\n\t}\n"]))),h=(0,d.Ps)(s||(s=(0,l.Z)(['\n    query allSubjects ($offset: Int!, $limit: Int!, $filter: String) {\n        count (appName: "subject", modelName: "Subject", filter: $filter) {\n            count\n        }\n        allSubjects (offset: $offset, limit: $limit, filter: $filter) {\n            id\n            subject \n            content\n        }\n    }\n']))),g=(0,d.Ps)(o||(o=(0,l.Z)(["\n    query selectProgram {\n        allPrograms {\n            id\n            program\n        }\n    }\n"]))),f=(0,d.Ps)(c||(c=(0,l.Z)(["\n    query sectionsByProgram ($program: Int!) {\n        sectionsByProgram (program: $program) {\n            id\n            section \n            classes {\n                classes\n            }\n        }\n    }\n"]))),p=(0,d.Ps)(u||(u=(0,l.Z)(["\n    query sectionsByClasses ($classes: Int!){\n        sectionsByClasses (classes: $classes) {\n            id \n            section\n        }\n    }\n"])))},42973:function(n,e,t){t.r(e),t.d(e,{default:function(){return F}});var r=t(72791),i=t(29439),a=t(20003),s=t(50419),o=t(87309),c=t(77154),u=t(36795),l=t(82464),d=t(2703),m=t(22949),$=t(73332),S=t(37083),h=t(66106),g=t(30914),f=t(49389),p=t(84376),y=t(86586),Z=t(96578),b=t(41920),x=t(7378),j=t(20077),I=t(82259),v=t(82630),D=t(68694),P=t(38937),C=t(80184),T=m.Z.Option;var N=function(n){var e=$.Z.useForm(),t=(0,i.Z)(e,1)[0],a=(0,r.useState)([]),o=(0,i.Z)(a,2),c=(o[0],o[1]),u=(0,p.D)(j.IR,{onCompleted:function(e){s.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),n.setIsModalVisible(!1),n.refetch()}}),l=(0,i.Z)(u,2),d=l[0],P=l[1].loading,N=(0,p.D)(I.uG,{onCompleted:function(e){s.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430"),n.setIsModalVisible(!1),n.refetch()}}),w=(0,i.Z)(N,2),E=w[0],k=w[1].loading;(0,r.useEffect)((function(){if("edit"===n.formType){var e={classes:n.editData.classes,activity:n.editData.activity.id,program:n.editData.program.id,subSchool:n.editData.subSchool.id,school:n.editData.school.id,status:n.editData.status,course:n.editData.course,endCourse:n.editData.endCourse};t.setFieldsValue(e),V(t.getFieldValue("school")),G(t.getFieldValue("subSchool"))}else"create"===n.formType&&t.resetFields()}),[t,n]);var M=(0,y.t)(D.Cx,{onCompleted:function(n){c(n.allTeachers)}}),q=(0,i.Z)(M,2),A=(q[0],q[1].loading,(0,Z.a)(b.Fm).data),F=(0,Z.a)(b.O8).data,B=(0,Z.a)(x.$5).data,z=(0,Z.a)(b.YP).data,O=((0,Z.a)(x.wZ).data,(0,r.useState)("")),R=(0,i.Z)(O,2),_=R[0],V=R[1],L=null,Q=null;_&&(L=_),L&&(Q=null===F||void 0===F?void 0:F.allSubSchools.filter((function(n){return n.school.id===L})).map((function(n){return(0,C.jsx)(T,{value:n.id,children:n.name},n.id)})));var J=(0,r.useState)(""),U=(0,i.Z)(J,2),X=U[0],G=U[1],W=null,H=null;return X&&(W=X),W&&(H=null===z||void 0===z?void 0:z.allPrograms.filter((function(n){return n.subSchool.id===W})).map((function(n){return(0,C.jsx)(T,{value:n.id,children:n.program},n.id)}))),(0,C.jsx)(S.Z,{spinning:P||k,tip:"\u0410\u0447\u0430\u0430\u043b\u043b\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...",children:(0,C.jsx)($.Z,{id:"SchoolForm",layout:"vertical",form:t,name:"control-hooks",onFinish:function(e){"edit"===n.formType?(e.id=n.editData.id,E({variables:e})):d({variables:{classes:e.classes,activity:e.activity,program:e.program,subSchool:e.subSchool,school:e.school,status:e.status,course:e.course,endCourse:e.endCourse}})},children:(0,C.jsxs)(h.Z,{gutter:[16,24],children:[(0,C.jsxs)(g.Z,{className:"gutter-row",span:12,children:[(0,C.jsx)($.Z.Item,{name:"school",label:(0,C.jsx)(v.Z,{id:"school"}),rules:[{required:!0,message:(0,C.jsx)(v.Z,{id:"form.required"})}],children:(0,C.jsx)(m.Z,{onChange:function(n){V(n)},children:null===A||void 0===A?void 0:A.allSchools.map((function(n,e){return(0,C.jsx)(T,{value:n.id,children:n.name},e)}))})}),(0,C.jsx)($.Z.Item,{name:"activity",label:(0,C.jsx)(v.Z,{id:"activity"}),rules:[{required:!0,message:(0,C.jsx)(v.Z,{id:"form.required"})}],children:(0,C.jsx)(m.Z,{children:null===B||void 0===B?void 0:B.allActivitys.map((function(n,e){return(0,C.jsx)(T,{value:n.id,children:n.name},e)}))})}),(0,C.jsx)($.Z.Item,{name:"subSchool",label:(0,C.jsx)(v.Z,{id:"sub-school"}),rules:[{required:!0,message:(0,C.jsx)(v.Z,{id:"form.required"})}],children:(0,C.jsx)(m.Z,{onChange:function(n){G(n)},children:Q})})]}),(0,C.jsxs)(g.Z,{className:"gutter-row",span:12,children:[(0,C.jsx)($.Z.Item,{name:"classes",label:(0,C.jsx)(v.Z,{id:"name"}),rules:[{required:!0,message:(0,C.jsx)(v.Z,{id:"form.required"})}],children:(0,C.jsx)(f.Z,{})}),(0,C.jsx)($.Z.Item,{name:"program",label:(0,C.jsx)(v.Z,{id:"program"}),rules:[{required:!0,message:(0,C.jsx)(v.Z,{id:"form.required"})}],children:(0,C.jsx)(m.Z,{children:H})}),(0,C.jsx)($.Z.Item,{name:"status",label:(0,C.jsx)(v.Z,{id:"status"}),rules:[{required:!0,message:(0,C.jsx)(v.Z,{id:"form.required"})}],children:(0,C.jsxs)(m.Z,{children:[(0,C.jsx)(T,{value:"OPEN",children:"\u0421\u0443\u0440\u0430\u043b\u0446\u0430\u0436 \u0431\u0443\u0439"},0),(0,C.jsx)(T,{value:"CLOSED",children:"\u0422\u04e9\u0433\u0441\u0441\u04e9\u043d"},1)]})})]})]})})})},w=t(64856),E=t(64880),k=t(59305),M=t(74021);var q=function(n){var e=(0,E.k6)(),t=(0,r.useState)([]),m=(0,i.Z)(t,2),$=m[0],S=m[1],h=(0,r.useState)(1),g=(0,i.Z)(h,2),f=g[0],Z=g[1],x=(0,y.t)(b.r1,{onCompleted:function(n){S(n.allClassess),Z(n.count.count)}}),j=(0,i.Z)(x,2),I=j[0],D=j[1],P=D.loading,T=D.refetch;(0,r.useEffect)((function(){I({variables:{offset:0,limit:9,filter:"",program:0}})}),[I]);var q=(0,r.useState)(!1),A=(0,i.Z)(q,2),F=A[0],B=A[1],z=(0,r.useState)([]),O=(0,i.Z)(z,2),R=O[0],_=O[1],V=(0,r.useState)(""),L=(0,i.Z)(V,2),Q=L[0],J=L[1],U=(Intl.NumberFormat(),a.Z.confirm),X=(0,p.D)(w.dc,{refetchQueries:[b.r1],onCompleted:function(n){s.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u043b\u0430\u0430")}}),G=(0,i.Z)(X,1)[0],W=[{key:"classes",title:(0,C.jsx)(v.Z,{id:"name"}),dataIndex:"classes",sorter:function(n,e){return d.ZP.antdTableSorter(n,e,"classes")}},{key:"school",title:(0,C.jsx)(v.Z,{id:"school"}),dataIndex:["school","name"],sorter:function(n,e){return d.ZP.antdTableSorter(n,e,"school")}},{key:"subSchool",title:(0,C.jsx)(v.Z,{id:"sub-school"}),dataIndex:["subSchool","name"],sorter:function(n,e){return d.ZP.antdTableSorter(n,e,"subSchool")}},{key:"program",title:(0,C.jsx)(v.Z,{id:"program"}),dataIndex:["program","program"],sorter:function(n,e){return d.ZP.antdTableSorter(n,e,"program")}},{key:"activity",title:(0,C.jsx)(v.Z,{id:"activity"}),dataIndex:["activity","name"],responsive:["lg"],sorter:function(n,e){return d.ZP.antdTableSorter(n,e,"activity")}}];return!0!==n.permissions.edit&&!0!==n.permissions.destroy||W.push({key:"actions",title:(0,C.jsx)(v.Z,{id:"main.action"}),width:"15vw",dataIndex:"actions",render:function(t,r){return(0,C.jsxs)("div",{className:"text-center",children:[!0===n.permissions.view_section&&(0,C.jsxs)(o.Z,{size:"small",onClick:function(){return e.push({pathname:k.sH+"/section",state:{message:r}})},type:"text",icon:(0,C.jsx)(c.Z,{}),children:[" ",(0,C.jsx)(v.Z,{id:"show2"})]}),!0===n.permissions.edit&&(0,C.jsxs)(o.Z,{size:"small",onClick:function(){return function(n){J("edit"),_(n),B(!0)}(r)},type:"text",icon:(0,C.jsx)(u.Z,{twoToneColor:"#ffdb00"}),children:[" ",(0,C.jsx)(v.Z,{id:"edit"})]}),!0===n.permissions.destroy&&(0,C.jsxs)(o.Z,{size:"small",onClick:function(){return function(n){U({title:"\u0423\u0441\u0442\u0433\u0430\u0445 \u0443\u0443?",okText:"\u0423\u0441\u0442\u0433\u0430\u0445",okType:"danger",cancelText:"\u0411\u043e\u043b\u0438\u0445",onOk:function(){G({variables:{id:n.id}})}})}(r)},type:"text",icon:(0,C.jsx)(l.Z,{twoToneColor:"#f42f2f"}),children:[" ",(0,C.jsx)(v.Z,{id:"delete"})]})]})}}),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(a.Z,{title:"create"===Q?(0,C.jsx)(v.Z,{id:"add_new"}):(0,C.jsx)(v.Z,{id:"edit"}),visible:F,width:"80vw",okText:(0,C.jsx)(v.Z,{id:"main.okText"}),cancelText:(0,C.jsx)(v.Z,{id:"main.cancelText"}),onCancel:function(){B(!1)},okButtonProps:{form:"SchoolForm",key:"submit",htmlType:"submit"},children:(0,C.jsx)(N,{refetch:T,editData:R,formType:Q,setIsModalVisible:B})}),(0,C.jsx)(M.Z,{fetchData:I,loading:P,columns:W,data:$,count:f,permissions:n.permissions,showModal:function(){J("create"),B(!0)}})]})},A=t(59288),F=function(n){var e={create:(0,A.C)("add_classes"),edit:(0,A.C)("change_classes"),destroy:(0,A.C)("delete_classes"),view_section:(0,A.C)("view_section")};return Object.values(e).indexOf("loading")>-1?(0,C.jsx)(P.Z,{cover:"content"}):(0,C.jsx)(q,{title:n.title,permissions:e})}},77154:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(1413),i=t(72791),a={icon:function(n,e){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z",fill:e}},{tag:"path",attrs:{d:"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z",fill:e}},{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z",fill:n}},{tag:"path",attrs:{d:"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:n}}]}},name:"eye",theme:"twotone"},s=t(8711),o=function(n,e){return i.createElement(s.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e,icon:a}))};o.displayName="EyeTwoTone";var c=i.forwardRef(o)}}]);
//# sourceMappingURL=2973.87b9f9c8.chunk.js.map